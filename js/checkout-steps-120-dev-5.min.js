!function(e,t){"function"==typeof define&&define.amd?define([],t()):"object"==typeof exports?module.exports=t():e.CheckoutSteps=t()}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";function c(e){var t,o;e&&(t=e.querySelector(p.substepFieldsSelector),o=e.querySelector(p.substepTextSelector),CollapsibleBlock.collapse(t),CollapsibleBlock.expand(o),e.classList.remove(p.isEditingClass))}function i(e){u&&a(e).block({message:null,overlayCSS:{background:"#fff",opacity:.6}})}function t(e,t){if(t&&t.fragments)for(var o in t.fragments){o=document.querySelector(o);o&&o.classList.remove(p.isLoadingClass)}}function n(e){if(e)if(!window.CheckoutValidation||CheckoutValidation.validateAllFields(e)){e.setAttribute(p.stepCompleteAttribute,"");for(var t=e.querySelectorAll(p.substepSelector),o=0;o<t.length;o++){var s=t[o],r=s.querySelector(p.substepTextContentSelector);r&&(r.classList.add(p.isLoadingClass),i(r)),c(s)}var l=e.parentElement.querySelector(p.nextStepSelector);l.setAttribute(p.stepCurrentAttribute,""),e.removeAttribute(p.stepCurrentAttribute),function(){var e=document.querySelector(p.currentStepSelector);if(e){for(var t=parseInt(e.getAttribute(p.stepIndexAttribute)),t=isNaN(t)?-1:t,o=document.querySelector(p.progressBarSelector),s=o.querySelectorAll(p.progressBarItemSelector),r=s.length,l=0;l<s.length;l++){var c=s[l],i=parseInt(c.getAttribute(p.stepIndexAttribute));(i=isNaN(i)?-1:i)==t?c.classList.add(p.isCurrentClass):c.classList.remove(p.isCurrentClass),i<=t?c.classList.add(p.isCompleteClass):c.classList.remove(p.isCompleteClass)}e=(e=t+1)<=r?e:r;o.querySelector(p.progressBarCurrentSelector).innerText=e}}(),function(e){var t=0,o=document.querySelector(p.progressBarSelector);if(o&&(t+=o.getBoundingClientRect().height),window.StickyStates){var s=document.querySelectorAll(p.scrollOffsetSelector);if(s&&0<s.length)for(var r=0;r<s.length;r++){var l=s[r];StickyStates.isStickyPosition(l)&&(t+=l.getBoundingClientRect().height)}}e=function(e,t){for(var o=0;e&&(!t||e==t);)o+=e.offsetTop,e=e.offsetParent;return o}(e)+-1*p.scrollOffset+-1*t;window.scrollTo({top:e,behavior:p.scrollBehavior})}(e),u&&a(document.body).trigger("update_checkout")}else{e=e.querySelector(p.invalidFieldRowSelector);e&&e.focus()}}function o(e){var t,o,s,r,l;e.target.closest(p.nextStepButtonSelector)?(e.preventDefault(),l=e.target.closest(p.stepSelector),n(l)):e.target.closest(p.substepEditButtonSelector)?(e.preventDefault(),o=e.target.closest(p.substepSelector),(s=o)&&(r=s.querySelector(p.substepFieldsSelector),l=s.querySelector(p.substepTextSelector),CollapsibleBlock.expand(r),CollapsibleBlock.collapse(l),s.classList.add(p.isEditingClass))):e.target.closest(p.substepSaveButtonSelector)?(e.preventDefault(),o=e.target.closest(p.substepSelector),(t=o)&&(!window.CheckoutValidation||CheckoutValidation.validateAllFields(t)?(c(t),u&&(o=t.querySelector(p.substepTextContentSelector),i(o),a(document.body).trigger("update_checkout"))):(t=t.querySelector(p.invalidFieldRowSelector))&&t.focus())):e.target.closest(p.expansibleSectionToggleSelector)&&(e.preventDefault(),t=(e=t=e.target.closest(p.expansibleSectionToggleSelector)).getAttribute(p.expansibleSectionExpandAttribute),e=e.getAttribute(p.expansibleSectionCollapseAttribute),!t||""==t||(t=document.querySelector(t))&&CollapsibleBlock.expand(t),!e||""==e||(e=document.querySelector(e))&&CollapsibleBlock.collapse(e))}function s(){window.addEventListener("click",o),u&&a(document.body).on("updated_checkout",t),document.body.classList.add(p.bodyClass),r=!0}var a=jQuery,u=null!=a,r=!1,l={},p={bodyClass:"has-wfc-checkout-steps",bodyClassActiveStepPattern:"wfc-checkout-step--active-{ID}",wrapperSelector:".wfc-wrapper",progressBarSelector:".wfc-progress-bar",progressBarCurrentSelector:".wfc-progress-bar__current-step",progressBarItemSelector:".wfc-progress-bar__bar",stepSelector:".wfc-checkout-step",currentStepSelector:"[data-step-current]",nextStepSelector:"[data-step-current] ~ .wfc-checkout-step",nextStepButtonSelector:"[data-step-next]",substepSelector:".wfc-step__substep",substepTextContentSelector:".wfc-step__substep-text-content",substepFieldsSelector:".wfc-step__substep-fields",substepTextSelector:".wfc-step__substep-text",substepEditButtonSelector:"[data-step-edit]",substepSaveButtonSelector:"[data-step-save]",expansibleSectionToggleSelector:"[data-expansible-section-toggle]",expansibleSectionExpandAttribute:"data-expansible-section-expand",expansibleSectionCollapseAttribute:"data-expansible-section-collapse",stepCompleteAttribute:"data-step-complete",stepCurrentAttribute:"data-step-current",stepIndexAttribute:"data-step-index",isEditingClass:"is-editing",isLoadingClass:"is-loading",isCurrentClass:"is-current",isCompleteClass:"is-complete",invalidFieldRowSelector:".woocommerce-invalid .input-text, .woocommerce-invalid select",scrollOffsetSelector:".wfc-checkout-header",scrollBehavior:"smooth",scrollOffset:0},d=function(){var o={},s=!1,e=0;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(s=arguments[0],e++);for(;e<arguments.length;e++)!function(e){for(var t in e)e.hasOwnProperty(t)&&(s&&"[object Object]"===Object.prototype.toString.call(e[t])?o[t]=d(o[t],e[t]):o[t]=e[t])}(arguments[e]);return o};return l.init=function(e){r||(p=d(p,e),window.CollapsibleBlock?s():window.RequireBundle&&RequireBundle.require(["collapsible-block"],function(){s()}))},l});
//# sourceMappingURL=maps/checkout-steps-120-dev-5.min.js.map

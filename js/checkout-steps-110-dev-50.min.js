!function(e,t){"function"==typeof define&&define.amd?define([],t()):"object"==typeof exports?module.exports=t():e.CheckoutSteps=t()}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";function r(){for(var e=0;e<u.length;e++)if(!u[e+1].hasAttribute(g.states.DISABLED))return e+1}function i(){var e=document.querySelector(".wfc-progress-bar-step.current");return e?parseInt(e.getAttribute(g.stepIdAttribute)):null}function o(){var e=i();if(!e)return r();for(var t=e-1;t<u.length;t++)if(!u[t+1].hasAttribute(g.states.DISABLED))return e+1;return null}function a(e,t){var r,s,o,a,n=i();n&&n==e||(r=document.querySelector("#step-"+e),s=document.querySelector(g.frameIdSelectorPattern.replace("{ID}",e)),function(){for(var e=u.length-1;0<=e;e--)u[e].classList.remove(g.progressBarStepCurrentClass),d[e].classList.remove(g.progressBarStepCurrentClass),d[e].hasAttribute(g.states.DISABLED)||d[e].classList.remove(g.progressBarStepDoneClass)}(),o=s,a=t,r.classList.add(g.progressBarStepCurrentClass),o.classList.add(g.progressBarStepCurrentClass),a&&v(o||c),function(){for(var e=i(),t=d.length-1;0<=t;t--){var r=d[t].getAttribute(g.stepIdAttribute);!d[t].hasAttribute(g.states.DISABLED)&&r<e&&d[t].classList.add(g.progressBarStepDoneClass)}}())}function t(e){e.preventDefault(),a(function(){var e=i();if(!e)return r();for(var t=e-1;0<=t;t--)if(!u[t-1].hasAttribute(g.states.DISABLED))return e-1;return 1}(),!0)}function s(e){e.target.closest(g.stepIdSelector+":not([disabled])")?function(e){e.preventDefault();var t=e.target.closest(g.stepIdSelector);a(t.getAttribute(g.stepIdAttribute),!0)}(e):e.target.closest(g.stepNavigationPrevSelector+":not([disabled])")?t(e):e.target.closest(g.stepNavigationNextSelector+":not([disabled])")&&function(e){if(e.preventDefault(),window.CheckoutValidation){var t=i(),r=n.querySelector(g.frameIdSelectorPattern.replace("{ID}",t));if(!window.CheckoutValidation.validateAllFields(r)){var s=r.querySelector(g.woocommerceInvalidFieldClass);return v(s)}}a(o(),!0)}(e)}var n,l,c,u,d,f=jQuery,p=!1,S={},g={bodyClass:"wfc-checkout-steps--active",wrapperSelector:"#wfc-wrapper",wrapperInsideSelector:".wfc-inside",progressBarSelector:"#wfc-progressbar",progressBarStepSelector:".wfc-progress-bar-step",progressBarStepClass:"wfc-progress-bar-step",progressBarStepDoneClass:"done",progressBarStepCurrentClass:"current",stepIdSelector:"[data-step-id]",stepIdAttribute:"data-step-id",stepNavigationPrevSelector:".wfc-prev",stepNavigationNextSelector:".wfc-next",frameIdAttribute:"data-frame-id",frameIdPattern:"step-frame-{ID}",frameIdSelectorPattern:"#step-frame-{ID}",woocommerceInvalidFieldClass:".woocommerce-invalid",topScrollOffset:100,states:{ACTIVE:"active",DISABLED:"disabled"}},v=function(e){window.scroll({behavior:"smooth",left:0,top:function(e){for(var t=0,r=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-e.scrollLeft,r+=e.offsetTop-e.scrollTop,e=e.offsetParent;return{top:r,left:t}}(e).top-g.topScrollOffset})};return S.refreshSteps=function(){n=document.querySelector(g.wrapperSelector),l=document.querySelector(g.wrapperInsideSelector),c=document.querySelector(g.progressBarSelector),n&&l&&c&&function(){for(;c.firstChild;)c.removeChild(c.firstChild);for(var e=(u=document.querySelectorAll(".wfc-frame")).length-1;0<=e;e--){var t=e+1,r=u[e].getAttribute("data-label"),s=document.createElement("div");s.classList.add(g.progressBarStepClass),s.setAttribute("id","step-"+t),s.setAttribute(g.stepIdAttribute,t),s.textContent=r,u[e].hasAttribute(g.states.DISABLED)&&s.setAttribute(g.states.DISABLED,g.states.DISABLED),u[e].classList.contains(g.progressBarStepDoneClass)&&s.classList.add(g.progressBarStepDoneClass),c.insertBefore(s,c.firstChild),u[e].setAttribute("id",g.frameIdPattern.replace("{ID}",t)),u[e].setAttribute(g.frameIdAttribute,t)}d=document.querySelectorAll(g.progressBarStepSelector),a(o(),!1)}()},S.init=function(){p||(S.refreshSteps(),window.addEventListener("click",s),f(document).on("load_ajax_content_done",S.refreshSteps),document.body.classList.add(g.bodyClass),p=!0)},S});
//# sourceMappingURL=maps/checkout-steps-110-dev-50.min.js.map

!function(e,t){"function"==typeof define&&define.amd?define([],t()):"object"==typeof exports?module.exports=t():e.GoogleAddressAutocomplete=t()}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";function p(e,t){e&&(t=null==t||null==t?"":t,e.value=t,d&&e.matches(y.select2Selector)&&(i(e).val(t),i(e).select2().trigger("change")),window.CheckoutValidation&&CheckoutValidation.clearValidationResults(e,e.closest(y.formRowSelector)))}function m(e){var t=e.querySelector(y.countryNotAllowedMessageSelector);t&&((e=t.closest(y.formRowSelector)).classList.remove(y.invalidMessageClass),e.classList.remove(y.invalidMessageCountryNotAllowedClass),t.parentNode.removeChild(t))}function f(e,s,t){if(s&&s.address_components){var r=[],e=(t=t||y.localeComponents.default)[e];return(e=!Array.isArray(e)?[e]:e).forEach(function(e){for(var t=0;t<s.address_components.length;t++){var o=s.address_components[t],n=o.types[0];if(e==n){n=o[y.componentValueType[n]];r.push(n);break}}}),r.join(t.components_separator)}}function s(e,t,o){var n=t.closest(y.addressGroupSelector),s=f("country",e);if(n.querySelector('[id$="country"] option[value="'+s+'"]')){!function(e){if(e){0;for(var t=e.querySelectorAll(y.addressFieldsSelector),o=0;o<t.length;o++){var n=t[o];n.matches(y.addressFieldsDontCleanSelector)||p(n,"")}m(e)}}(n);for(var r,a=(r=s,s=y.localeComponents.default,s=null!=r&&y.localeComponents.hasOwnProperty(r.toUpperCase())?w(s,y.localeComponents[r.toUpperCase()]):s),l=Object.getOwnPropertyNames(a),c=0;c<l.length;c++){var i=l[c],d=f(i,e,a),u=n.querySelector('[id$="'+i+'"]');"state"==i&&"select"==u.type&&(d=d.toUpperCase()),p(u,d)}}else!function(e,t){var o=_("country",e),n=y.genericAddressType;t.closest(y.addressGroupShippingSelector)&&(n=y.addressTypeLabelShipping),t.closest(y.addressGroupBillingSelector)&&(n=y.addressTypeLabelBilling);e=y.countryNotAllowedMessageTemplate;e=(e=e.replace("{country_name}",o)).replace("{address_type}",n),t.insertAdjacentHTML("afterend",e);t=t.closest(y.formRowSelector);t.classList.add(y.invalidMessageClass),t.classList.add(y.invalidMessageCountryNotAllowedClass)}(e,t)}function t(e){e&&e.setAttribute("autocomplete",e.getAttribute("data-o-autocomplete"))}function r(e){e&&"off"==e.getAttribute("autocomplete")&&t(e)}function o(t){var e,o,n;t&&!t.matches(y.autocompleteEnabledInputSelector)&&(e=w(!0,[],y.autocompleteDefaultOptions),y.allowedCountries.hasOwnProperty(t.id)?o=y.allowedCountries[t.id]:5<(o=function(e){if(e&&e.closest(y.addressGroupSelector)){for(var t=[],o=e.closest(y.addressGroupSelector).querySelectorAll('[id$="country"] option'),n=0;n<o.length;n++){var s=o[n];""!=s.value&&t.push(s.value)}return t}}(t)).length&&(o=null),Array.isArray(o)&&(e.componentRestrictions={country:o}),t.setAttribute("data-o-autocomplete",t.getAttribute("autocomplete")),(n=new google.maps.places.Autocomplete(t,e)).addListener("place_changed",function(){var e=n.getPlace();e.address_components&&s(e,t)}),window.setTimeout(function(){r(t)},1e3),window.setTimeout(function(){r(t)},2e3),window.setTimeout(function(){r(t)},5e3))}function n(){document.querySelectorAll(y.autocompleteInputSelector).forEach(o)}function a(e){var t;e.target.matches(y.autocompleteEnabledInputSelector)&&(t=e.target)&&t.setAttribute("autocomplete","off-"+Date.now())}function l(e){e.target.matches(y.autocompleteEnabledInputSelector)&&t(e.target)}function c(e){e.target.matches(y.autocompleteEnabledInputSelector)&&function(e){if("Enter"==e.key||13==e.which)e.preventDefault()}(e),e.target.matches(y.autocompleteInputSelector)&&(e=e.target.closest(y.addressGroupSelector),m(e))}var i=jQuery,d=null!=i,u=!1,g={},y={bodyClass:"has-google-autocomplete",formRowSelector:".form-row",select2Selector:'[class*="select2"]',autocompleteInputSelector:"#address_1, #shipping_address_1, #billing_address_1",autocompleteEnabledInputSelector:".pac-target-input",addressGroupSelector:".woocommerce-shipping-fields, .woocommerce-billing-fields, .woocommerce-address-fields",addressGroupShippingSelector:".woocommerce-shipping-fields",addressGroupBillingSelector:".woocommerce-billing-fields",addressFieldsSelector:"input, select, textarea",addressFieldsDontCleanSelector:'[name$="_address_id"], #shipping_address_save, #billing_address_save',genericAddressType:"this",addressTypeLabelShipping:"shipping",addressTypeLabelBilling:"billing",autocompleteDefaultOptions:{fields:["address_components"],types:["address"]},allowedCountries:{},countryNotAllowedMessageSelector:".woocommerce-error.invalid-country-not-allowed",countryNotAllowedMessageTemplate:'<span class="woocommerce-error invalid-country-not-allowed">Country {country_name} is not allowed for {address_type} address.</span>',invalidMessageClass:"woocommerce-invalid",invalidMessageCountryNotAllowedClass:"woocommerce-invalid-country-not-allowed-field",componentValueType:{street_number:"short_name",route:"long_name",locality:"long_name",administrative_area_level_1:"short_name",administrative_area_level_2:"long_name",country:"short_name",postal_code:"short_name"},localeComponents:{default:{country_name:"country_name",country:"country",postcode:"postal_code",state:"administrative_area_level_1",city:"locality",address_1:["street_number","route"],components_separator:" "}}},w=function(){var o={},n=!1,e=0;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(n=arguments[0],e++);for(;e<arguments.length;e++)!function(e){for(var t in e)e.hasOwnProperty(t)&&(n&&"[object Object]"===Object.prototype.toString.call(e[t])?o[t]=w(o[t],e[t]):o[t]=e[t])}(arguments[e]);return o},_=function(e,n,t){if(n&&n.address_components){var s=[],e=(t=t||y.localeComponents.default)[e];return(e=!Array.isArray(e)?[e]:e).forEach(function(e){for(var t=0;t<n.address_components.length;t++){var o=n.address_components[t];if(e==o.types[0]){o=o.long_name;s.push(o);break}}}),s.join(t.components_separator)}};return g.init=function(e){u||(!e&&window.wfcSettings&&window.wfcSettings.googleAutoCompleteSettings&&(e=window.wfcSettings.googleAutoCompleteSettings),y=w(!0,y,e),n(),d&&i(document.body).on("updated_checkout",n),window.addEventListener("focusin",a),window.addEventListener("focusout",l),window.addEventListener("keydown",c,!0),document.body.classList.add(y.bodyClass),u=!0)},g});
//# sourceMappingURL=maps/google-address-autocomplete-110-dev-118.min.js.map

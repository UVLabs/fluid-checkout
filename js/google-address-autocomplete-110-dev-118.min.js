!function(e,t){"function"==typeof define&&define.amd?define([],t()):"object"==typeof exports?module.exports=t():e.GoogleAddressAutocomplete=t()}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";function u(e,t){e&&(t=null==t||null==t?"":t,e.value=t,d&&e.matches(_.select2Selector)&&(i(e).val(t),i(e).select2().trigger("change")),window.CheckoutValidation&&CheckoutValidation.clearValidationResults(e,e.closest(_.formRowSelector)))}function p(e){if(e){0;for(var t=e.querySelectorAll(_.addressFieldsSelector),o=0;o<t.length;o++){var n=t[o];n.matches(_.addressFieldsDontCleanSelector)||u(n,"")}}}function m(e,a,t){if(a&&a.address_components){var r=[],e=(t=t||_.localeComponents.default)[e];return(e=!Array.isArray(e)?[e]:e).forEach(function(e){for(var t=0;t<a.address_components.length;t++){var o=a.address_components[t],n=o.types[0];if(e==n){n=o[_.componentValueType[n]];r.push(n);break}}}),r.join(t.components_separator)}}function a(e,t,o){var n=t.closest(_.addressGroupSelector);console.log(e.address_components),p(n);var a=m("country",e),t=n.querySelector('[id$="country"]');if(u(t,a),t.value===a)for(var r=(t=a,a=_.localeComponents.default,a=null!=t&&_.localeComponents.hasOwnProperty(t.toUpperCase())?w(a,_.localeComponents[t.toUpperCase()]):a),l=Object.getOwnPropertyNames(r),s=0;s<l.length;s++){var c,i,d=l[s];"country"!=d&&(c=m(d,e,r),i=n.querySelector('[id$="'+d+'"]'),"state"==d&&(c=c.toUpperCase()),u(i,c))}else p(n)}function t(e){e&&e.setAttribute("autocomplete",e.getAttribute("data-o-autocomplete"))}function r(e){e&&"off"==e.getAttribute("autocomplete")&&t(e)}function o(t){var e,o,n;t&&!t.matches(_.autocompleteEnabledInputSelector)&&(e=w(!0,[],_.autocompleteDefaultOptions),_.allowedCountries.hasOwnProperty(t.id)?o=_.allowedCountries[t.id]:5<(o=function(e){if(e&&e.closest(_.addressGroupSelector)){for(var t=e.closest(_.addressGroupSelector).querySelectorAll('[id$="country"] option'),o=[],n=0;n<t.length;n++){var a=t[n];""!=a.value&&o.push(a.value)}return o}}(t)).length&&(o=null),Array.isArray(o)&&(e.componentRestrictions={country:o}),t.setAttribute("data-o-autocomplete",t.getAttribute("autocomplete")),(n=new google.maps.places.Autocomplete(t,e)).addListener("place_changed",function(){var e=n.getPlace();e.address_components&&a(e,t)}),window.setTimeout(function(){r(t)},1e3),window.setTimeout(function(){r(t)},2e3),window.setTimeout(function(){r(t)},5e3))}function n(){document.querySelectorAll(_.autocompleteInputSelector).forEach(o)}function l(e){var t;e.target.matches(_.autocompleteEnabledInputSelector)&&(t=e.target)&&t.setAttribute("autocomplete","off-"+Date.now())}function s(e){e.target.matches(_.autocompleteEnabledInputSelector)&&t(e.target)}function c(e){e.target.matches(_.autocompleteEnabledInputSelector)&&function(e){if("Enter"==e.key||13==e.which)e.preventDefault()}(e)}var i=jQuery,d=null!=i,f=!1,g={},_={bodyClass:"has-google-autocomplete",autocompleteInputSelector:"#address_1, #shipping_address_1, #billing_address_1",autocompleteEnabledInputSelector:".pac-target-input",addressGroupSelector:".woocommerce-shipping-fields, .woocommerce-billing-fields, .woocommerce-address-fields",select2Selector:'[class*="select2"]',addressFieldsSelector:"input, select, textarea",addressFieldsDontCleanSelector:'[name$="_address_id"], #shipping_address_save, #billing_address_save',autocompleteDefaultOptions:{fields:["address_components"],types:["address"]},allowedCountries:{shipping_address_1:["US"]},componentValueType:{street_number:"short_name",route:"long_name",locality:"long_name",administrative_area_level_1:"short_name",administrative_area_level_2:"long_name",country:"short_name",postal_code:"short_name"},localeComponents:{default:{country:"country",postcode:"postal_code",state:"administrative_area_level_1",city:"locality",address_1:["street_number","route"],components_separator:" "}}},w=function(){var o={},n=!1,e=0;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(n=arguments[0],e++);for(;e<arguments.length;e++)!function(e){for(var t in e)e.hasOwnProperty(t)&&(n&&"[object Object]"===Object.prototype.toString.call(e[t])?o[t]=w(o[t],e[t]):o[t]=e[t])}(arguments[e]);return o};return g.init=function(e){f||(!e&&window.wfcSettings&&window.wfcSettings.googleAutoCompleteSettings&&(e=window.wfcSettings.googleAutoCompleteSettings),_=w(!0,_,e),n(),d&&i(document.body).on("updated_checkout",n),window.addEventListener("focusin",l),window.addEventListener("focusout",s),window.addEventListener("keydown",c,!0),document.body.classList.add(_.bodyClass),f=!0)},g});
//# sourceMappingURL=maps/google-address-autocomplete-110-dev-118.min.js.map

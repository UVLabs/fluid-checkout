!function(e,i){"function"==typeof define&&define.amd?define([],i()):"object"==typeof exports?module.exports=i():e.FluidSlider=i()}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";function n(e){for(var i,t=0;t<g.managers.length;t++){var a=g.managers[t];if(a.sliderViewport==e){i=a;break}}return i}function o(e){var t=1,a=window.innerWidth,i=p.slidesPerView,r=e.sliderWrapper.getAttribute(p.slidesPerViewAttribute);if(r)try{var s=JSON.parse(r),i=m(p.slidesPerView,s)}catch(e){console.log('Could not parse attribute "'+p.slidesPerViewAttribute+'" into JSON.')}return Object.entries(i).forEach(function(e,i){a>=e[1].breakpointInitial&&a<=e[1].breakpointFinal&&(t=e[1].itemsPerView)}),t}function l(e,i){var t=o(e);return i>e.slideCount-t&&(i=e.slideCount-t),i<0?0:i}function d(e,i){return-(i*e.slideWidth+i*e.slideSpacing)}function c(e,i){e&&(i?e.classList.add(p.isDisabledClass):e.classList.remove(p.isDisabledClass))}function v(e){var i,t,a,r,s,l;e.target.closest(p.navigationPrevSelector)?(e.preventDefault(),i=e.target.closest(p.sliderWrapperSelector),t=n(i.querySelector(p.sliderViewportSelector)),l=(s=t).activeSlide-o(s),s.activeSlide<=0?S(s,l,25):g.goTo(s,l)):e.target.closest(p.navigationNextSelector)&&(e.preventDefault(),i=e.target.closest(p.sliderWrapperSelector),t=n(i.querySelector(p.sliderViewportSelector)),(r=(a=t).activeSlide+o(a))>=a.slideCount?S(a,r,-25):g.goTo(a,r))}var t=!1,u=window.whichTransitionEnd?window.whichTransitionEnd():"transitionend",g={managers:[]},p={},i={sliderWrapperSelector:".slider-wrapper",sliderViewportSelector:".slider-viewport",sliderContainerSelector:".slider-container",sliderItemSelector:".slider-item",isActivatedClass:"is-activated",isDisabledClass:"is-disabled",isResizingClass:"is-resizing",isAnimatingClass:"is-animating",isCurrentClass:"is-current",slideSpacing:0,slideSensitivity:30,touchEventsSensitivity:25,slidesPerViewAttribute:"data-slider-per-view",slidesPerView:{xs:{breakpointInitial:0,breakpointFinal:749,itemsPerView:1},md:{breakpointInitial:750,breakpointFinal:999,itemsPerView:3},ml:{breakpointInitial:1e3,breakpointFinal:1199,itemsPerView:4},lg:{breakpointInitial:1200,breakpointFinal:1499,itemsPerView:4},xl:{breakpointInitial:1500,breakpointFinal:1e5,itemsPerView:4}},createNavigationButtons:!1,createNavigationButtonsAttribute:"data-slider-navigation-buttons",navigationButtonsSelector:".slider-navigation",navigationPrevSelector:".slider-navigation__prev",navigationNextSelector:".slider-navigation__next",hasNavigationButtonsClass:"has-navigation-buttons",navigationButtonsTemplate:'<div class="slider-navigation"><button class="slider-navigation__prev">Previous</button></div><button class="slider-navigation__next">Next</button></div>',createNavigationBullets:!1,createNavigationBulletsAttribute:"data-slider-navigation-bullets",navigationBulletsSelector:".slider-navigation-bullets",navigationBulletItemSelector:".slider-navigation-bullets__item",hasNavigationBulletsClass:"has-navigation-bullets",navigationBulletsWrapperTemplate:'<div class="slider-navigation-bullets"></div>',navigationBulletItemTemplate:'<span class="slider-navigation-bullets__item"></span>'},m=function(){var t={},a=!1,e=0;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(a=arguments[0],e++);for(;e<arguments.length;e++){!function(e){for(var i in e)e.hasOwnProperty(i)&&(a&&"[object Object]"===Object.prototype.toString.call(e[i])?t[i]=m(t[i],e[i]):t[i]=e[i])}(arguments[e])}return t},S=function(t,a,e){t.sliderViewport.addEventListener(u,function e(i){"transform"==i.propertyName&&(t.sliderViewport.classList.remove(p.isAnimatingClass),t.sliderViewport.removeEventListener(u,e),g.goTo(t,a))}),t.sliderViewport.classList.add(p.isAnimatingClass),t.sliderContainer.style.transform="translateX("+(d(t,t.activeSlide)+e)+"px)"};return g.resizeSlider=function(e){!function(e){e.sliderViewport.classList.remove(p.isActivatedClass),e.sliderViewport.classList.add(p.isResizingClass),e.sliderViewport.style.height=e.sliderViewport.getBoundingClientRect().height+"px",e.sliderContainer.style.width="";for(var i=0;i<e.slides.length;i++){var t=e.slides[i];t.style.width="",t.style.marginLeft=""}}(e),e.slideSpacingCount=e.slideCount*(e.slideCount-1),e.slideWidth=e.slides.item(0).getBoundingClientRect().width,e.slideSpacing=function(e){if(e.slides.length<2)return p.slideSpacing;var i=e.slides.item(0).getBoundingClientRect().right,t=e.slides.item(1).getBoundingClientRect().left-i;return t=0<t?t:p.slideSpacing}(e),e.containerWidth=e.slideSpacingCount*e.slideSpacing+e.slideCount*e.slideWidth,e.sliderContainer.style.width=e.containerWidth+"px";for(var i=0;i<e.slides.length;i++){var t=e.slides[i];t.style.width=e.slideWidth+"px",0<i&&(t.style.marginLeft=e.slideSpacing+"px")}e.sliderViewport.classList.add(p.isActivatedClass),e.sliderViewport.classList.remove(p.isResizingClass),e.sliderViewport.style.height="";var a=o(e);e.activeSlide>e.slideCount-a?g.goTo(e,e.slideCount-a):g.goTo(e,e.activeSlide),e.sliderNavigation&&(e.sliderNavigation.style.display=e.slideCount<=a?"none":""),e.sliderNavigationBullets&&(e.sliderNavigationBullets.style.display=e.slideCount<=a?"none":"")},g.goTo=function(e,i){!function(t,e){t.activeSlide=l(t,e),t.sliderViewport.addEventListener(u,function e(i){"transform"==i.propertyName&&(t.sliderViewport.classList.remove(p.isAnimatingClass),t.sliderViewport.removeEventListener(u,e))}),t.sliderViewport.classList.add(p.isAnimatingClass);var i="translateX("+d(t,t.activeSlide)+"px)";if(t.sliderContainer.style.transform=i,t.sliderContainer.style.msTransform=i,t.sliderNavigationBullets)for(var a=t.sliderNavigationBullets.querySelectorAll(p.navigationBulletItemSelector),r=0;r<a.length;r++){var s=a[r];r==t.activeSlide?s.classList.add(p.isCurrentClass):s.classList.remove(p.isCurrentClass)}t.sliderNavigation&&(c(t.sliderNavigationPrev,t.activeSlide<=0),c(t.sliderNavigationNext,t.activeSlide>=l(t,t.slideCount)))}(e,i)},g.initializeSlider=function(e){var l={};l.sliderWrapper=e,l.sliderViewport=e.querySelector(p.sliderViewportSelector),l.sliderContainer=e.querySelector(p.sliderContainerSelector),l.slides=e.querySelectorAll(p.sliderItemSelector),l.slideCount=l.slides.length,l.activeSlide=0,l.hammerManager=new Hammer.Manager(l.sliderViewport),l.hammerManager.add(new Hammer.Pan({direction:Hammer.DIRECTION_HORIZONTAL,threshold:p.touchEventsSensitivity,pointers:0})),l.hammerManager.on("pan",function(e){var i,t,a,r,s;t=e,s=d(i=l,i.activeSlide)+t.deltaX,i.sliderContainer.style.transform="translateX("+s+"px)",t.isFinal&&(1<t.velocityX?(r=Math.abs(o(i)),g.goTo(i,i.activeSlide-r)):t.velocityX<-1?(r=Math.abs(o(i)),g.goTo(i,i.activeSlide+r)):(a=p.slideSensitivity/100*i.slideWidth,r=Math.abs(Math.round(t.deltaX/i.slideWidth)),150<=Math.abs(t.angle)&&t.deltaX<=-a?g.goTo(i,i.activeSlide+r):Math.abs(t.angle)<=30&&t.deltaX>=a?g.goTo(i,i.activeSlide-r):g.goTo(i,i.activeSlide)))});var i,t=l.sliderWrapper.getAttribute(p.createNavigationButtonsAttribute);(null!=t?"true"===t:p.createNavigationButtons)&&((i=document.createElement("div")).innerHTML=p.navigationButtonsTemplate.trim(),l.sliderWrapper.appendChild(i.childNodes[0]),l.sliderNavigation=e.querySelector(p.navigationButtonsSelector),l.sliderNavigationPrev=e.querySelector(p.navigationPrevSelector),l.sliderNavigationNext=e.querySelector(p.navigationNextSelector),l.sliderWrapper.classList.add(p.hasNavigationButtonsClass));var a=l.sliderWrapper.getAttribute(p.createNavigationBulletsAttribute);if(null!=a?"true"===a:p.createNavigationBullets){var r=document.createElement("div");r.innerHTML=p.navigationBulletsWrapperTemplate.trim(),l.sliderWrapper.appendChild(r.childNodes[0]),l.sliderNavigationBullets=e.querySelector(p.navigationBulletsSelector);for(var s=0;s<l.slideCount;s++){var n=document.createElement("div");n.innerHTML=p.navigationBulletItemTemplate.trim(),l.sliderNavigationBullets.appendChild(n.childNodes[0])}l.sliderWrapper.classList.add(p.hasNavigationBulletsClass)}l.sliderViewport.classList.add(p.isActivatedClass),g.resizeSlider(l),window.addEventListener("resize",function(){g.resizeSlider(l)}),document.addEventListener("click",v),g.managers.push(l)},g.init=function(e){t||(p=m(i,e),RequireBundle&&RequireBundle.require(["hammerjs"],function(){for(var e=document.querySelectorAll(p.sliderWrapperSelector),i=0;i<e.length;i++)g.initializeSlider(e[i]);t=!0}))},g});
!function(e,o){"function"==typeof define&&define.amd?define([],o()):"object"==typeof exports?module.exports=o():e.PointsRewardsRedeemPoints=o()}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";function o(e){var o,t;a||!function(){if(!window.fcSettings||!fcSettings.woocommercePointsRewards||!fcSettings.woocommercePointsRewards.partialRedemptionEnabled)return!0;var e=document.querySelector(d.maxPointsFieldSelector),o=document.querySelector(d.pointsToApplyFieldSelector);if(!e||!o)return!0;e=prompt(fcSettings.woocommercePointsRewards.pointsToRedeemMessage,e.value);return null!=e&&0!=e&&(e>=fcSettings.woocommercePointsRewards.minPointsToRedeem?(o.value=e,!0):(alert(fcSettings.woocommercePointsRewards.lessThanMinPointsMessage),!1))}()||(o=c(d.substepSelector),t=c(d.redeemSectionSelector),a=!0,t.addClass("processing").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),o.find(d.messagesSelector).remove(),t={action:"wc_points_rewards_apply_discount",discount_amount:c("input.wc_points_rewards_apply_discount_amount").val(),security:woocommerce_params.apply_coupon_nonce||wc_checkout_params.apply_coupon_nonce},c.ajax({type:"POST",url:woocommerce_params.ajax_url,data:t,success:function(e){e&&(o.prepend(e),c("body").trigger("update_checkout"))},dataType:"html"}))}function t(){a=!1}function n(e){e.target.closest(d.redeemButtonSelector)&&(e.preventDefault(),o())}var c=jQuery,s=null!=c,r=!1,a=!1,i={},d={bodyClass:"has-fc-points-rewards-redeem-points",substepSelector:'.fc-step__substep[data-substep-id="coupon_codes"]',redeemSectionSelector:".wc_points_redeem_earn_points",redeemButtonSelector:".wc_points_rewards_apply_discount",messagesSelector:".woocommerce-error, .woocommerce-message",maxPointsFieldSelector:'[name="wc-points-rewards-max-points"]',pointsToApplyFieldSelector:"input.wc_points_rewards_apply_discount_amount"},p=function(){var t={},n=!1,e=0;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(n=arguments[0],e++);for(;e<arguments.length;e++)!function(e){for(var o in e)e.hasOwnProperty(o)&&(n&&"[object Object]"===Object.prototype.toString.call(e[o])?t[o]=p(t[o],e[o]):t[o]=e[o])}(arguments[e]);return t};return i.init=function(e){r||(d=p(d,e),window.addEventListener("click",n),s&&c(document.body).on("updated_checkout",t),document.body.classList.add(d.bodyClass),r=!0)},i});
//# sourceMappingURL=../maps/woocommerce-points-and-rewards/redeem-points-130.min.js.map

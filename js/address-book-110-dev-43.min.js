!function(e,t){"function"==typeof define&&define.amd?define([],t()):"object"==typeof exports?module.exports=t():e.AddressBook=t()}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";var r=jQuery,a=null!=r,t=!1,n={},s="wfc-address-book--active",i=".wfc-address-book",o=".address-book__entry-radio",c="[data-address-book-new]",d="input, select, textarea",u="#shipping_first_name, #shipping_last_name, #shipping_phone, #shipping_company, #shipping_address_1, #shipping_address_2, #shipping_country, #shipping_state, #shipping_postcode, #shipping_city",l='[name$="_address_id"], #shipping_address_save, #billing_address_save',p='[name$="_address_id"]:checked',f="data-address",_="data-address-type",g="active",h=".form-row",v='[class*="select2"]',m=!0;function y(n,r,s){var i;return function(){var e=this,t=arguments,a=s&&!i;clearTimeout(i),i=setTimeout(function(){i=null,s||n.apply(e,t)},r),a&&n.apply(e,t)}}function b(e){try{var t=e.getAttribute(f);return JSON.parse(t)}catch(e){return!1}}function w(e,t){var a=function(e,t){if(!e||!t)return!1;for(var a={},n=t.getAttribute(_),r=e.querySelectorAll(d),s=0;s<r.length;s++){var i=r[s];a[i.getAttribute("name").replace(n+"_","")]=i.value}return a}(e,t),n=JSON.stringify(a);t.setAttribute(f,n)}function k(e,t){e&&(t=null==t||null==t?"":t,e.value=t,a&&e.matches(v)&&(r(e).val(t),r(e).select2().trigger("change")),window.CheckoutValidation&&CheckoutValidation.clearValidationResults(e,e.closest(h)))}function A(e,t){var a,n;m&&(a=t.getAttribute(_),n=b(t),jQuery.ajax({type:"POST",url:wc_checkout_params.ajax_url,data:{action:"wfc_set_"+a+"_address_selected_session",address_data:n},complete:function(e){r(document.body).trigger("update_checkout")},dataType:"html"}))}function S(e){var t,a,n,r=e.closest(i);a=e,(t=r)&&a&&((n=t.querySelector(".wfc-address-book__form-wrapper"))&&(a.matches(c)?n.classList.add(g):n.classList.remove(g))),function(e,t){if(m&&t){x(e);var a=b(t);if(a)for(var n=t.getAttribute(_),r=Object.keys(a),s=0;s<r.length;s++){var i=r[s],o=n+"_"+r[s],c=e.querySelector('[name="'+o+'"]');k(c,a[i])}}}(r,e),A(0,e)}function j(e){var t,a;!m||(a=(t=e.target.closest(i)).querySelector(p)).matches(c)&&(w(t,a),A(0,a))}function q(e){e.target.matches(o)&&S(e.target)}var x=function(e){if(e){m=!1;for(var t=e.querySelectorAll(d),a=0;a<t.length;a++){var n=t[a];n.matches(l)||k(n,"")}m=!0}};return n.init=function(){t||(window.addEventListener("change",q),a&&(r(u).off("change",y(j,500)),r(u).on("change",y(j,500))),document.body.classList.add(s),t=!0)},n});
//# sourceMappingURL=maps/address-book-110-dev-43.min.js.map

!function(e,t){"function"==typeof define&&define.amd?define([],t()):"object"==typeof exports?module.exports=t():e.AddressBook=t()}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";var r=jQuery,a=null!=r,t=!1,s={},n="wfc-address-book--active",c=".wfc-address-book",d=".address-book",i=".address-book__entry-radio",u="[data-address-book-new]",l="[data-address-book-same]",o="input, select, textarea",p="#shipping_first_name, #shipping_last_name, #shipping_phone, #shipping_company, #shipping_address_1, #shipping_address_2, #shipping_country, #shipping_state, #shipping_postcode, #shipping_city",f='[name$="_address_id"], #shipping_address_save, #billing_address_save',_='[name$="_address_id"]:checked',h=".form-row",g='[class*="select2"]',m="data-address",v="data-address-type",y="data-address-same-as-checked",b="active",k=!0;function w(s,r,n){var i;return function(){var e=this,t=arguments,a=n&&!i;clearTimeout(i),i=setTimeout(function(){i=null,n||s.apply(e,t)},r),a&&s.apply(e,t)}}function A(e){try{var t=e.getAttribute(m);return JSON.parse(t)}catch(e){return!1}}function S(e,t){var a=function(e,t){if(!e||!t)return!1;for(var a={},s=t.getAttribute(v),r=e.querySelectorAll(o),n=0;n<r.length;n++){var i=r[n];a[i.getAttribute("name").replace(s+"_","")]=i.value}return a}(e,t),s=JSON.stringify(a);t.setAttribute(m,s)}function j(e,t){e&&(t=null==t||null==t?"":t,e.value=t,a&&e.matches(g)&&(r(e).val(t),r(e).select2().trigger("change")),window.CheckoutValidation&&CheckoutValidation.clearValidationResults(e,e.closest(h)))}function q(e,t){var a,s;k&&(a=t.getAttribute(v),s=A(t),jQuery.ajax({type:"POST",url:wc_checkout_params.ajax_url,data:{action:"wfc_set_"+a+"_address_selected_session",address_data:s},complete:function(e){r(document.body).trigger("update_checkout")},dataType:"html"}))}function x(e){var t,a,s,r,n,i,o=e.closest(c);a=e,(t=o)&&a&&((s=t.querySelector(".wfc-address-book__form-wrapper"))&&(a.matches(u)?s.classList.add(b):s.classList.remove(b))),n=e,(r=o)&&n&&((i=r.querySelector(d))&&(n.matches(l)?i.setAttribute(y,"1"):i.removeAttribute(y))),function(e,t){if(k&&t){T(e);var a=A(t);if(a)for(var s=t.getAttribute(v),r=Object.keys(a),n=0;n<r.length;n++){var i=r[n],o=s+"_"+r[n],c=e.querySelector('[name="'+o+'"]');j(c,a[i])}}}(o,e),q(0,e)}function L(e){var t,a;!k||(a=(t=e.target.closest(c)).querySelector(_)).matches(u)&&(S(t,a),q(0,a))}function O(e){e.target.matches(i)&&x(e.target)}var T=function(e){if(e){k=!1;for(var t=e.querySelectorAll(o),a=0;a<t.length;a++){var s=t[a];s.matches(f)||j(s,"")}k=!0}};return s.init=function(){t||(window.addEventListener("change",O),a&&(r(p).off("change",w(L,500)),r(p).on("change",w(L,500))),document.body.classList.add(n),t=!0)},s});
//# sourceMappingURL=maps/address-book-110-dev-43.min.js.map

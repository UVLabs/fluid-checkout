!function(e,t){"function"==typeof define&&define.amd?define([],t()):"object"==typeof exports?module.exports=t():e.Ziptastic=t()}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";function n(r,e){var t,i,c;p.ziptasticAPIKey&&(i="US",(t=r.closest(p.fieldWrappers).querySelector(p.countryFields))&&""!=t.value&&(i=t.value),(c=new XMLHttpRequest).open("GET","//zip.getziptastic.com/v3/"+i+"/"+e),c.setRequestHeader("Content-Type","application/json"),c.setRequestHeader("x-key",p.ziptasticAPIKey),c.onload=function(){var e,t,i,n,s,a,o;200===c.status&&(e=JSON.parse(c.responseText),t=r,i=e[0],(o=t.closest(p.fieldWrappers))&&(n=o.querySelector(p.cityFields),s=o.querySelector(p.stateFields),a=o.querySelector(p.countryFields),n&&n.value!=i.city&&(n.value=i.city,n.dispatchEvent(new CustomEvent("change"),{bubbles:!0})),a&&a.value!=i.country&&(p.hasJQuery&&l(a).data("select2")?l(a).val(i.country).trigger("change"):a.value=i.country,a.dispatchEvent(new CustomEvent("change"),{bubbles:!0})),s&&s.value!=i.state_short&&(p.hasJQuery&&l(s).data("select2")?l(s).val(i.state_short).trigger("change"):s.value=i.state_short,s.dispatchEvent(new CustomEvent("change"),{bubbles:!0}))))},c.send())}function t(e){var t,i;e.target.matches(p.zipFields)&&(t=e,p.ziptasticAPIKey&&t.target&&("keyup"==t.type&&[9,27].includes(t.keyCode)||((i=t.target.value).length<p.minChars||n(t.target,i))))}var l=jQuery,i=!1,s={},p={hasJQuery:null!=l,ziptasticAPIKey:!1,zipFields:"#billing_postcode, #shipping_postcode",fieldWrappers:".woocommerce-billing-fields__field-wrapper, .woocommerce-shipping-fields__field-wrapper, .woocommerce-address-fields__field-wrapper",cityFields:"#billing_city, #shipping_city",stateFields:"#billing_state, #shipping_state",countryFields:"#billing_country, #shipping_country",minChars:5},a=function(){var i={},n=!1,e=0;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(n=arguments[0],e++);for(;e<arguments.length;e++){!function(e){for(var t in e)e.hasOwnProperty(t)&&(n&&"[object Object]"===Object.prototype.toString.call(e[t])?i[t]=a(i[t],e[t]):i[t]=e[t])}(arguments[e])}return i};return s.init=function(){i||window.wfcZiptasticVars&&(p=a(p,wfcZiptasticVars),window.addEventListener("keyup",t,!0),window.addEventListener("change",t,!0),i=!0)},s});
//# sourceMappingURL=maps/ziptastic-110-dev-89.min.js.map

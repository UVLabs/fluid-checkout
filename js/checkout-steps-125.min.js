!function(e,t){"function"==typeof define&&define.amd?define([],t()):"object"==typeof exports?module.exports=t():e.CheckoutSteps=t()}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";function a(e){var t,s;e&&(t=e.querySelector(S.substepFieldsSelector),s=e.querySelector(S.substepTextSelector),CollapsibleBlock.collapse(t),CollapsibleBlock.expand(s),e.classList.remove(S.isEditingClass),(e=e.querySelector(S.substepEditButtonSelector))&&e.focus())}function i(e){p&&u(e).block({message:null,overlayCSS:{background:"#fff",opacity:.6}})}function t(e,t){if(t&&t.fragments)for(var s in t.fragments){s=document.querySelector(s);s&&s.classList.remove(S.isLoadingClass)}}function s(e,t){var s=u(".shipping-method__package");s.length&&s.each(function(){var e=u(this).find("input.shipping_method:checked"),t=u('.fc-step__substep[data-substep-id="shipping_address"]');e.val().startsWith("local_pickup")?t.addClass("has-local-pickup-selected"):t.removeClass("has-local-pickup-selected")})}function l(e){if(e)if(!window.CheckoutValidation||CheckoutValidation.validateAllFields(e)){e.setAttribute(S.stepCompleteAttribute,"");for(var t=e.querySelectorAll(S.substepSelector),s=0;s<t.length;s++){var o=t[s],r=o.querySelector(S.substepTextContentSelector);r&&(r.classList.add(S.isLoadingClass),i(r)),a(o)}var l=e.parentElement.querySelector(S.nextStepSelector);l.setAttribute(S.stepCurrentAttribute,""),e.removeAttribute(S.stepCurrentAttribute);for(var c=(l=document.querySelector(S.stepsWrapperSelector))?Array.from(l.querySelectorAll(S.stepSelector)):[],n=c.indexOf(e),s=0;s<c.length;s++)s<n&&c[s].classList.remove(S.stepNextIncompleteClass);!function(){var e=document.querySelector(S.currentStepSelector);if(e){for(var t=parseInt(e.getAttribute(S.stepIndexAttribute)),t=isNaN(t)?-1:t,s=document.querySelector(S.progressBarSelector),o=s.querySelectorAll(S.progressBarItemSelector),r=o.length,l=0;l<o.length;l++){var c=o[l],n=parseInt(c.getAttribute(S.stepIndexAttribute));(n=isNaN(n)?-1:n)==t?c.classList.add(S.isCurrentClass):c.classList.remove(S.isCurrentClass),n<=t?c.classList.add(S.isCompleteClass):c.classList.remove(S.isCompleteClass)}e=(e=t+1)<=r?e:r;s.querySelector(S.progressBarCurrentSelector).innerText=e}}(),function(e){var t=0,s=document.querySelector(S.progressBarSelector);if(s&&(t+=s.getBoundingClientRect().height),window.StickyStates){var o=document.querySelectorAll(S.scrollOffsetSelector);if(o&&0<o.length)for(var r=0;r<o.length;r++){var l=o[r];StickyStates.isStickyPosition(l)&&(t+=l.getBoundingClientRect().height)}}e=function(e,t){for(var s=0;e&&(!t||t!=e);)s+=e.offsetTop,e=e.offsetParent;return s}(e)+-1*S.scrollOffset+-1*t;window.scrollTo({top:e,behavior:S.scrollBehavior})}(e),p&&u(document.body).trigger("update_checkout")}else{e=e.querySelector(S.invalidFieldRowSelector);e&&e.focus()}}function o(e){var t,s,o,r;e.target.closest(S.nextStepButtonSelector)?(e.preventDefault(),r=e.target.closest(S.stepSelector),l(r)):e.target.closest(S.substepEditButtonSelector)?(e.preventDefault(),t=e.target.closest(S.substepSelector),(s=t)&&(o=s.querySelector(S.substepFieldsSelector),r=s.querySelector(S.substepTextSelector),CollapsibleBlock.expand(o),CollapsibleBlock.collapse(r),s.classList.add(S.isEditingClass))):e.target.closest(S.substepSaveButtonSelector)&&(e.preventDefault(),(e=t=e.target.closest(S.substepSelector))&&(!window.CheckoutValidation||CheckoutValidation.validateAllFields(e)?(a(e),p&&(t=e.querySelector(S.substepTextContentSelector),i(t),u(".woocommerce-error, .woocommerce-message").remove(),u(document.body).trigger("update_checkout"))):(e=e.querySelector(S.invalidFieldRowSelector))&&e.focus()))}function r(e){e.defaultPrevented||e.key!=f&&e.key!=b||!e.target.closest(S.substepEditButtonSelector)&&!e.target.closest(S.substepSaveButtonSelector)||o(e)}function c(){window.addEventListener("click",o),document.addEventListener("keydown",r,!0),p&&(u(document.body).on("updated_checkout",t),u(document.body).on("updated_checkout",s)),document.body.classList.add(S.bodyClass),n=!0}var u=jQuery,p=null!=u,n=!1,d={},S={bodyClass:"has-fc-checkout-steps",bodyClassActiveStepPattern:"fc-checkout-step--active-{ID}",wrapperSelector:".fc-wrapper",progressBarSelector:".fc-progress-bar",progressBarCurrentSelector:".fc-progress-bar__current-step",progressBarItemSelector:".fc-progress-bar__bar",stepsWrapperSelector:".fc-checkout-steps",stepSelector:".fc-checkout-step",currentStepSelector:"[data-step-current]",nextStepSelector:"[data-step-current] ~ .fc-checkout-step",nextStepButtonSelector:"[data-step-next]",substepSelector:".fc-step__substep",substepTextContentSelector:".fc-step__substep-text-content",substepFieldsSelector:".fc-step__substep-fields",substepTextSelector:".fc-step__substep-text",substepEditButtonSelector:"[data-step-edit]",substepSaveButtonSelector:"[data-step-save]",expansibleSectionToggleSelector:"[data-expansible-section-toggle]",expansibleSectionExpandAttribute:"data-expansible-section-expand",expansibleSectionCollapseAttribute:"data-expansible-section-collapse",stepCompleteAttribute:"data-step-complete",stepCurrentAttribute:"data-step-current",stepIndexAttribute:"data-step-index",isEditingClass:"is-editing",isLoadingClass:"is-loading",isCurrentClass:"is-current",isCompleteClass:"is-complete",stepNextIncompleteClass:"fc-checkout-step--next-step-incomplete",invalidFieldRowSelector:".woocommerce-invalid .input-text, .woocommerce-invalid select",scrollOffsetSelector:".fc-checkout-header",scrollBehavior:"smooth",scrollOffset:0},f="Enter",b=" ",g=function(){var s={},o=!1,e=0;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(o=arguments[0],e++);for(;e<arguments.length;e++)!function(e){for(var t in e)e.hasOwnProperty(t)&&(o&&"[object Object]"===Object.prototype.toString.call(e[t])?s[t]=g(s[t],e[t]):s[t]=e[t])}(arguments[e]);return s};return d.init=function(e){n||(S=g(S,e),window.CollapsibleBlock?c():window.RequireBundle&&RequireBundle.require(["collapsible-block"],function(){c()}))},d});
//# sourceMappingURL=maps/checkout-steps-125.min.js.map

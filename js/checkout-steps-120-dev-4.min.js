!function(e,t){"function"==typeof define&&define.amd?define([],t()):"object"==typeof exports?module.exports=t():e.CheckoutSteps=t()}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";function c(e){var t,s;e&&(t=e.querySelector(u.substepFieldsSelector),s=e.querySelector(u.substepTextSelector),CollapsibleBlock.collapse(t),CollapsibleBlock.expand(s),e.classList.remove(u.isEditingClass))}function i(e){n&&a(e).block({message:null,overlayCSS:{background:"#fff",opacity:.6}})}function l(e){if(e)if(!window.CheckoutValidation||CheckoutValidation.validateAllFields(e)){e.setAttribute(u.stepCompleteAttribute,"");for(var t=e.querySelectorAll(u.substepSelector),s=0;s<t.length;s++){var r=t[s],o=r.querySelector(u.substepTextContentSelector);o&&(o.classList.add(u.isLoadingClass),i(o)),c(r)}e.parentElement.querySelector(u.nextStepSelector).setAttribute(u.stepCurrentAttribute,""),e.removeAttribute(u.stepCurrentAttribute),function(){var e=document.querySelector(u.wrapperSelector),t=e.querySelector(u.currentStepSelector);if(t){for(var s=parseInt(t.getAttribute(u.stepIndexAttribute)),s=isNaN(s)?-1:s,r=e.querySelector(u.progressBarSelector),o=r.querySelectorAll(u.progressBarItemSelector),t=o.length,l=0;l<o.length;l++){var c=o[l],i=parseInt(c.getAttribute(u.stepIndexAttribute));(i=isNaN(i)?-1:i)==s?c.classList.add(u.isCurrentClass):c.classList.remove(u.isCurrentClass),i<=s?c.classList.add(u.isCompleteClass):c.classList.remove(u.isCompleteClass)}e=(e=s+1)<=t?e:t;r.querySelector(u.progressBarCurrentSelector).innerText=e}}();var l=function(e,t){for(var s=0;e&&(!t||e==t);)s+=e.offsetTop,e=e.offsetParent;return s}(e)+-1*u.scrollOffset;window.scrollTo({top:l,behavior:u.scrollBehavior}),n&&a(document.body).trigger("update_checkout")}else{e=e.querySelector(u.invalidFieldRowSelector);e&&e.focus()}}function t(e){var t,s,r,o;e.target.closest(u.nextStepButtonSelector)?(o=e.target.closest(u.stepSelector),l(o)):e.target.closest(u.substepEditButtonSelector)?(t=e.target.closest(u.substepSelector),(s=t)&&(r=s.querySelector(u.substepFieldsSelector),o=s.querySelector(u.substepTextSelector),CollapsibleBlock.expand(r),CollapsibleBlock.collapse(o),s.classList.add(u.isEditingClass))):!e.target.closest(u.substepSaveButtonSelector)||(e=t=e.target.closest(u.substepSelector))&&(!window.CheckoutValidation||CheckoutValidation.validateAllFields(e)?(c(e),n&&(t=e.querySelector(u.substepTextContentSelector),i(t),a(document.body).trigger("update_checkout"))):(e=e.querySelector(u.invalidFieldRowSelector))&&e.focus())}function s(){window.addEventListener("click",t),document.body.classList.add(u.bodyClass),r=!0}var a=jQuery,n=null!=a,r=!1,o={},u={bodyClass:"has-wfc-checkout-steps",bodyClassActiveStepPattern:"wfc-checkout-step--active-{ID}",wrapperSelector:".wfc-wrapper",progressBarSelector:".wfc-progress-bar",progressBarCurrentSelector:".wfc-progress-bar__current-step",progressBarItemSelector:".wfc-progress-bar__bar",stepSelector:".wfc-checkout-step",currentStepSelector:"[data-step-current]",nextStepSelector:"[data-step-current] ~ .wfc-checkout-step",nextStepButtonSelector:"[data-step-next]",substepSelector:".wfc-step__substep",substepTextContentSelector:".wfc-step__substep-text-content",substepFieldsSelector:".wfc-step__substep-fields",substepTextSelector:".wfc-step__substep-text",substepEditButtonSelector:"[data-step-edit]",substepSaveButtonSelector:"[data-step-save]",stepCompleteAttribute:"data-step-complete",stepCurrentAttribute:"data-step-current",stepIndexAttribute:"data-step-index",isEditingClass:"is-editing",isLoadingClass:"is-loading",isCurrentClass:"is-current",isCompleteClass:"is-complete",invalidFieldRowSelector:".woocommerce-invalid .input-text, .woocommerce-invalid select",scrollBehavior:"smooth",scrollOffset:0},p=function(){var s={},r=!1,e=0;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(r=arguments[0],e++);for(;e<arguments.length;e++)!function(e){for(var t in e)e.hasOwnProperty(t)&&(r&&"[object Object]"===Object.prototype.toString.call(e[t])?s[t]=p(s[t],e[t]):s[t]=e[t])}(arguments[e]);return s};return o.init=function(e){r||(u=p(u,e),window.CollapsibleBlock?s():window.RequireBundle&&RequireBundle.require(["collapsible-block"],function(){s()}))},o});
//# sourceMappingURL=maps/checkout-steps-120-dev-4.min.js.map

!function(e,t){"function"==typeof define&&define.amd?define([],t()):"object"==typeof exports?module.exports=t():e.CheckoutSteps=t()}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";function c(e){var t,r;e&&(t=e.querySelector(u.substepFieldsSelector),r=e.querySelector(u.substepTextSelector),CollapsibleBlock.collapse(t),CollapsibleBlock.expand(r),e.classList.remove(u.isEditingClass))}function i(e){n&&a(e).block({message:null,overlayCSS:{background:"#fff",opacity:.6}})}function l(e){if(e)if(!window.CheckoutValidation||CheckoutValidation.validateAllFields(e)){e.setAttribute(u.stepCompleteAttribute,"");for(var t=e.querySelectorAll(u.substepSelector),r=0;r<t.length;r++){var o=t[r],s=o.querySelector(u.substepTextContentSelector);s&&(s.classList.add(u.isLoadingClass),i(s)),c(o)}var l=e.parentElement.querySelector(u.nextStepSelector);l.setAttribute(u.stepCurrentAttribute,""),e.removeAttribute(u.stepCurrentAttribute),function(){var e=document.querySelector(u.wrapperSelector),t=e.querySelector(u.currentStepSelector);if(t){for(var r=parseInt(t.getAttribute(u.stepIndexAttribute)),r=isNaN(r)?-1:r,o=e.querySelector(u.progressBarSelector),s=o.querySelectorAll(u.progressBarItemSelector),t=s.length,l=0;l<s.length;l++){var c=s[l],i=parseInt(c.getAttribute(u.stepIndexAttribute));(i=isNaN(i)?-1:i)==r?c.classList.add(u.isCurrentClass):c.classList.remove(u.isCurrentClass),i<=r?c.classList.add(u.isCompleteClass):c.classList.remove(u.isCompleteClass)}e=(e=r+1)<=t?e:t;o.querySelector(u.progressBarCurrentSelector).innerText=e}}(),function(e){var t=0,r=document.querySelector(u.wrapperSelector).querySelector(u.progressBarSelector);if(r&&(t+=r.getBoundingClientRect().height),window.StickyStates){var o=document.querySelectorAll(u.scrollOffsetSelector);if(o&&0<o.length)for(var s=0;s<o.length;s++){var l=o[s];StickyStates.isStickyPosition(l)&&(t+=l.getBoundingClientRect().height)}}e=function(e,t){for(var r=0;e&&(!t||e==t);)r+=e.offsetTop,e=e.offsetParent;return r}(e)+-1*u.scrollOffset+-1*t;window.scrollTo({top:e,behavior:u.scrollBehavior})}(e),n&&a(document.body).trigger("update_checkout")}else{e=e.querySelector(u.invalidFieldRowSelector);e&&e.focus()}}function t(e){var t,r,o,s;e.target.closest(u.nextStepButtonSelector)?(s=e.target.closest(u.stepSelector),l(s)):e.target.closest(u.substepEditButtonSelector)?(t=e.target.closest(u.substepSelector),(r=t)&&(o=r.querySelector(u.substepFieldsSelector),s=r.querySelector(u.substepTextSelector),CollapsibleBlock.expand(o),CollapsibleBlock.collapse(s),r.classList.add(u.isEditingClass))):!e.target.closest(u.substepSaveButtonSelector)||(e=t=e.target.closest(u.substepSelector))&&(!window.CheckoutValidation||CheckoutValidation.validateAllFields(e)?(c(e),n&&(t=e.querySelector(u.substepTextContentSelector),i(t),a(document.body).trigger("update_checkout"))):(e=e.querySelector(u.invalidFieldRowSelector))&&e.focus())}function r(){window.addEventListener("click",t),document.body.classList.add(u.bodyClass),o=!0}var a=jQuery,n=null!=a,o=!1,s={},u={bodyClass:"has-wfc-checkout-steps",bodyClassActiveStepPattern:"wfc-checkout-step--active-{ID}",wrapperSelector:".wfc-wrapper",progressBarSelector:".wfc-progress-bar",progressBarCurrentSelector:".wfc-progress-bar__current-step",progressBarItemSelector:".wfc-progress-bar__bar",stepSelector:".wfc-checkout-step",currentStepSelector:"[data-step-current]",nextStepSelector:"[data-step-current] ~ .wfc-checkout-step",nextStepButtonSelector:"[data-step-next]",substepSelector:".wfc-step__substep",substepTextContentSelector:".wfc-step__substep-text-content",substepFieldsSelector:".wfc-step__substep-fields",substepTextSelector:".wfc-step__substep-text",substepEditButtonSelector:"[data-step-edit]",substepSaveButtonSelector:"[data-step-save]",stepCompleteAttribute:"data-step-complete",stepCurrentAttribute:"data-step-current",stepIndexAttribute:"data-step-index",isEditingClass:"is-editing",isLoadingClass:"is-loading",isCurrentClass:"is-current",isCompleteClass:"is-complete",invalidFieldRowSelector:".woocommerce-invalid .input-text, .woocommerce-invalid select",scrollOffsetSelector:".wfc-checkout-header",scrollBehavior:"smooth",scrollOffset:0},p=function(){var r={},o=!1,e=0;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(o=arguments[0],e++);for(;e<arguments.length;e++)!function(e){for(var t in e)e.hasOwnProperty(t)&&(o&&"[object Object]"===Object.prototype.toString.call(e[t])?r[t]=p(r[t],e[t]):r[t]=e[t])}(arguments[e]);return r};return s.init=function(e){o||(u=p(u,e),window.CollapsibleBlock?r():window.RequireBundle&&RequireBundle.require(["collapsible-block"],function(){r()}))},s});
//# sourceMappingURL=maps/checkout-steps-120-dev-4.min.js.map

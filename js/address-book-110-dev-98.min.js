!function(e,t){"function"==typeof define&&define.amd?define([],t()):"object"==typeof exports?module.exports=t():e.AddressBook=t()}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";var o=jQuery,a=null!=o,t=!1,i={},r="wfc-address-book--active",n=".wfc-address-book",s=".address-book",d=".address-book__entry-radio",c="[data-address-book-new]",l="[data-address-book-same]",u="input, select, textarea",g="#shipping_first_name, #shipping_last_name, #shipping_phone, #shipping_company, #shipping_address_1, #shipping_address_2, #shipping_country, #shipping_state, #shipping_postcode, #shipping_city, #billing_address_1, #billing_address_2, #billing_country, #billing_state, #billing_postcode, #billing_city, #billing_company",_='[name$="_address_id"], #shipping_address_save, #billing_address_save',f='[name$="_address_id"]:checked',p=".form-row",h='[class*="select2"]',b="#billing_first_name, #billing_last_name, #billing_phone",m="[data-field-edited]",v="data-address",y="data-address-type",k="data-address-same-as-checked",A="data-copy-to-field",w="data-field-edited",S="active",q=!0,j="";function x(e){try{var t=e.getAttribute(v);return JSON.parse(t)}catch(e){return!1}}function O(e,t){e=function(e,t){if(!e||!t)return!1;for(var a={},i=t.getAttribute(y),r=e.querySelectorAll(u),n=0;n<r.length;n++){var s=r[n];a[s.getAttribute("name").replace(i+"_","")]=s.value}return a}(e,t),e=JSON.stringify(e),t.setAttribute(v,e)}function L(e,t){e&&(t=null==t||null==t?"":t,e.value=t,a&&e.matches(h)&&(o(e).val(t),o(e).select2().trigger("change")),window.CheckoutValidation&&CheckoutValidation.clearValidationResults(e,e.closest(p)))}function T(e,t){var a;q&&(a=t.getAttribute(y),t=x(t),jQuery.ajax({type:"POST",url:wc_checkout_params.ajax_url,data:{action:"wfc_set_"+a+"_address_selected_session",address_data:t},complete:function(e){o(document.body).trigger("update_checkout")},dataType:"html"}))}function V(e){var t,a,i=e.closest(n);a=e,(t=i)&&a&&((t=t.querySelector(".wfc-address-book__form-wrapper"))&&(a.matches(c)?t.classList.add(S):t.classList.remove(S))),a=e,(t=i)&&a&&((t=t.querySelector(s))&&(a.matches(l)?t.setAttribute(k,"1"):t.removeAttribute(k))),function(e,t){if(q&&t){N(e);var a=x(t);if(a)for(var i=t.getAttribute(y),r=Object.keys(a),n=0;n<r.length;n++){var s=r[n],o=i+"_"+r[n],o=e.querySelector('[name="'+o+'"]');L(o,a[s])}}}(i,e),T(0,e)}function C(e){var t;!q||(e=(t=e.target.closest(n)).querySelector(f))&&e.matches(c)&&(O(t,e),T(0,e))}function J(e){var t;e.target.matches(d)?V(e.target):e.target.matches(b)?function(e){var t=e.getAttribute(A);if(t&&""!=t)for(var a=document.querySelectorAll(t),i=0;i<a.length;i++){var r=a[i];r.matches(m)||(r.value=e.value)}}(e.target):e.target.matches(j)&&(t=e.target)&&t.setAttribute(w,"1")}var N=function(e){if(e){q=!1;for(var t=e.querySelectorAll(u),a=0;a<t.length;a++){var i=t[a];i.matches(_)||L(i,"")}q=!0}},Q=function(){var e,i,r,n,s;a&&(i=C,r=500,e=function(){var e=this,t=arguments,a=n&&!s;clearTimeout(s),s=setTimeout(function(){s=null,n||i.apply(e,t)},r),a&&i.apply(e,t)},o(g).off("change",e),o(g).on("change",e))};return i.init=function(){t||(window.addEventListener("change",J),o(document.body).on("updated_checkout",Q),Q(),function(){for(var e=document.querySelectorAll(b),t=0;t<e.length;t++){var a=e[t].getAttribute(A);-1==j.indexOf(a)&&(j+=0<j.length?", ":"",j+=a)}}(),document.body.classList.add(r),t=!0)},i});
//# sourceMappingURL=maps/address-book-110-dev-98.min.js.map

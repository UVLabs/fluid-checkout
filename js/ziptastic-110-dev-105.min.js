!function(e,t){"function"==typeof define&&define.amd?define([],t()):"object"==typeof exports?module.exports=t():e.Ziptastic=t()}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";function i(n,e){var t,i,a;r.ziptasticAPIKey&&(i="US",(t=n.closest(r.fieldWrappers).querySelector(r.countryFields))&&""!=t.value&&(i=t.value),(a=new XMLHttpRequest).open("GET","//zip.getziptastic.com/v3/"+i+"/"+e),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("x-key",r.ziptasticAPIKey),a.onload=function(){var e,t,i,s;200===a.status&&(i=JSON.parse(a.responseText),e=n,t=i[0],(s=e.closest(r.fieldWrappers))&&(i=s.querySelector(r.cityFields),e=s.querySelector(r.stateFields),s=s.querySelector(r.countryFields),i&&i.value!=t.city&&(i.value=t.city,i.dispatchEvent(new CustomEvent("change"),{bubbles:!0})),s&&s.value!=t.country&&(r.hasJQuery&&o(s).data("select2")?o(s).val(t.country).trigger("change"):s.value=t.country,s.dispatchEvent(new CustomEvent("change"),{bubbles:!0})),e&&e.value!=t.state_short&&(r.hasJQuery&&o(e).data("select2")?o(e).val(t.state_short).trigger("change"):e.value=t.state_short,e.dispatchEvent(new CustomEvent("change"),{bubbles:!0}))))},a.send())}function t(e){var t;e.target.matches(r.zipFields)&&(t=e,r.ziptasticAPIKey&&t.target&&t.target.matches(":focus")&&("keyup"==t.type&&[9,27].includes(t.keyCode)||((e=t.target.value).length<r.minChars||i(t.target,e))))}var o=jQuery,s=!1,n={},r={hasJQuery:null!=o,ziptasticAPIKey:!1,zipFields:"#billing_postcode, #shipping_postcode",fieldWrappers:".woocommerce-billing-fields__field-wrapper, .woocommerce-shipping-fields__field-wrapper, .woocommerce-address-fields__field-wrapper",cityFields:"#billing_city, #shipping_city",stateFields:"#billing_state, #shipping_state",countryFields:"#billing_country, #shipping_country",minChars:5},a=function(){var i={},s=!1,e=0;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(s=arguments[0],e++);for(;e<arguments.length;e++)!function(e){for(var t in e)e.hasOwnProperty(t)&&(s&&"[object Object]"===Object.prototype.toString.call(e[t])?i[t]=a(i[t],e[t]):i[t]=e[t])}(arguments[e]);return i};return n.init=function(){s||window.wfcZiptasticVars&&(r=a(r,wfcZiptasticVars),window.addEventListener("keyup",t,!0),window.addEventListener("change",t,!0),s=!0)},n});
//# sourceMappingURL=maps/ziptastic-110-dev-105.min.js.map

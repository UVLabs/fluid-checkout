!function(e,t){"function"==typeof define&&define.amd?define([],t()):"object"==typeof exports?module.exports=t():e.AddressBook=t()}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";var n=jQuery,a=null!=n,t=!1,r={},i="wfc-address-book--active",d=".wfc-address-book",c=".address-book",s=".address-book__entry-radio",l="[data-address-book-new]",u="[data-address-book-same]",o="input, select, textarea",f="#shipping_first_name, #shipping_last_name, #shipping_phone, #shipping_company, #shipping_address_1, #shipping_address_2, #shipping_country, #shipping_state, #shipping_postcode, #shipping_city",g='[name$="_address_id"], #shipping_address_save, #billing_address_save',p='[name$="_address_id"]:checked',h=".form-row",_='[class*="select2"]',m="#billing_first_name, #billing_last_name, #billing_phone",v="[data-field-edited]",b="data-address",y="data-address-type",A="data-address-same-as-checked",k="data-copy-to-field",w="data-field-edited",S="active",q=!0,j="";function x(r,n,i){var s;return function(){var e=this,t=arguments,a=i&&!s;clearTimeout(s),s=setTimeout(function(){s=null,i||r.apply(e,t)},n),a&&r.apply(e,t)}}function O(e){try{var t=e.getAttribute(b);return JSON.parse(t)}catch(e){return!1}}function L(e,t){var a=function(e,t){if(!e||!t)return!1;for(var a={},r=t.getAttribute(y),n=e.querySelectorAll(o),i=0;i<n.length;i++){var s=n[i];a[s.getAttribute("name").replace(r+"_","")]=s.value}return a}(e,t),r=JSON.stringify(a);t.setAttribute(b,r)}function T(e,t){e&&(t=null==t||null==t?"":t,e.value=t,a&&e.matches(_)&&(n(e).val(t),n(e).select2().trigger("change")),window.CheckoutValidation&&CheckoutValidation.clearValidationResults(e,e.closest(h)))}function V(e,t){var a,r;q&&(a=t.getAttribute(y),r=O(t),jQuery.ajax({type:"POST",url:wc_checkout_params.ajax_url,data:{action:"wfc_set_"+a+"_address_selected_session",address_data:r},complete:function(e){n(document.body).trigger("update_checkout")},dataType:"html"}))}function C(e){var t,a,r,n,i,s,o=e.closest(d);a=e,(t=o)&&a&&((r=t.querySelector(".wfc-address-book__form-wrapper"))&&(a.matches(l)?r.classList.add(S):r.classList.remove(S))),i=e,(n=o)&&i&&((s=n.querySelector(c))&&(i.matches(u)?s.setAttribute(A,"1"):s.removeAttribute(A))),function(e,t){if(q&&t){Q(e);var a=O(t);if(a)for(var r=t.getAttribute(y),n=Object.keys(a),i=0;i<n.length;i++){var s=n[i],o=r+"_"+n[i],d=e.querySelector('[name="'+o+'"]');T(d,a[s])}}}(o,e),V(0,e)}function J(e){var t,a;!q||(a=(t=e.target.closest(d)).querySelector(p)).matches(l)&&(L(t,a),V(0,a))}function N(e){var t;e.target.matches(s)?C(e.target):e.target.matches(m)?function(e){var t=e.getAttribute(k);if(t&&""!=t)for(var a=document.querySelectorAll(t),r=0;r<a.length;r++){var n=a[r];n.matches(v)||(n.value=e.value)}}(e.target):e.target.matches(j)&&(t=e.target)&&t.setAttribute(w,"1")}var Q=function(e){if(e){q=!1;for(var t=e.querySelectorAll(o),a=0;a<t.length;a++){var r=t[a];r.matches(g)||T(r,"")}q=!0}};return r.init=function(){t||(window.addEventListener("change",N),a&&(n(f).off("change",x(J,500)),n(f).on("change",x(J,500))),function(){for(var e=document.querySelectorAll(m),t=0;t<e.length;t++){var a=e[t].getAttribute(k);-1==j.indexOf(a)&&(j+=0<j.length?", ":"",j+=a)}}(),document.body.classList.add(i),t=!0)},r});
//# sourceMappingURL=maps/address-book-110-dev-47.min.js.map

!function(e,t){"function"==typeof define&&define.amd?define([],t()):"object"==typeof exports?module.exports=t():e.GoogleAddressAutocomplete=t()}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";function p(e,t){e&&(t=null==t||null==t?"":t,e.value=t,d&&e.matches(w.select2Selector)&&(i(e).val(t),i(e).select2().trigger("change")),window.CheckoutValidation&&CheckoutValidation.clearValidationResults(e,e.closest(w.formRowSelector)))}function m(e){var t=e.querySelector(w.countryNotAllowedMessageSelector);t&&((e=t.closest(w.formRowSelector)).classList.remove(w.invalidMessageClass),e.classList.remove(w.invalidMessageCountryNotAllowedClass),t.parentNode.removeChild(t))}function f(e,r,t){if(r&&r.address_components){var s=[],e=(t=t||w.localeComponents.default)[e];return(e=!Array.isArray(e)?[e]:e).forEach(function(e){for(var t=0;t<r.address_components.length;t++){var o=r.address_components[t],n=o.types[0];if(e==n){n=o[w.componentValueType[n]];s.push(n);break}}}),s.join(t.components_separator)}}function g(e){if(e&&e.closest(w.addressGroupSelector)){var t=[],o=e.closest(w.addressGroupSelector),e=o.querySelector('[id$="country"]');if("hidden"!=e.type)for(var n=o.querySelectorAll('[id$="country"] option'),r=0;r<n.length;r++){var s=n[r];""!=s.value&&t.push(s.value)}else""!=e.value&&t.push(e.value);return t}}function r(e,t,o){var n=t.closest(w.addressGroupSelector),r=f("country",e);if(g(t).includes(r)){!function(e){if(e){0;for(var t=e.querySelectorAll(w.addressFieldsSelector),o=0;o<t.length;o++){var n=t[o];p(n,"")}m(e)}}(n);for(var s,a=(s=r,r=w.localeComponents.default,r=null!=s&&w.localeComponents.hasOwnProperty(s.toUpperCase())?v(r,w.localeComponents[s.toUpperCase()]):r),l=Object.getOwnPropertyNames(a),c=0;c<l.length;c++){var i=l[c],d=f(i,e,a),u=n.querySelector('[id$="'+i+'"]');"state"==i&&-1<u.type.indexOf("select")&&(d=d.toUpperCase()),"country"==i&&"hidden"==u.type||p(u,d)}}else!function(e,t){var o=h("country",e),n=w.genericAddressType;t.closest(w.addressGroupShippingSelector)&&(n=w.addressTypeLabelShipping),t.closest(w.addressGroupBillingSelector)&&(n=w.addressTypeLabelBilling);e=w.countryNotAllowedMessageTemplate;e=(e=e.replace("{country_name}",o)).replace("{address_type}",n),t.insertAdjacentHTML("afterend",e);t=t.closest(w.formRowSelector);t.classList.add(w.invalidMessageClass),t.classList.add(w.invalidMessageCountryNotAllowedClass)}(e,t)}function t(e){e&&e.setAttribute("autocomplete",e.getAttribute("data-o-autocomplete"))}function s(e){e&&"off"==e.getAttribute("autocomplete")&&t(e)}function o(t){var e,o,n;t&&!t.matches(w.autocompleteEnabledInputSelector)&&(e=v(!0,[],w.autocompleteDefaultOptions),w.allowedCountries.hasOwnProperty(t.id)?o=w.allowedCountries[t.id]:5<(o=g(t)).length&&(o=null),Array.isArray(o)&&(e.componentRestrictions={country:o}),t.setAttribute("data-o-autocomplete",t.getAttribute("autocomplete")),(n=new google.maps.places.Autocomplete(t,e)).addListener("place_changed",function(){var e=n.getPlace();e.address_components&&r(e,t)}),window.setTimeout(function(){s(t)},1e3),window.setTimeout(function(){s(t)},2e3),window.setTimeout(function(){s(t)},5e3))}function n(){document.querySelectorAll(w.autocompleteInputSelector).forEach(o)}function a(e){var t;e.target.matches(w.autocompleteEnabledInputSelector)&&(t=e.target)&&t.setAttribute("autocomplete","off-"+Date.now())}function l(e){e.target.matches(w.autocompleteEnabledInputSelector)&&t(e.target)}function c(e){e.target.matches(w.autocompleteEnabledInputSelector)&&function(e){if("Enter"==e.key||13==e.which)e.preventDefault()}(e),e.target.matches(w.autocompleteInputSelector)&&(e=e.target.closest(w.addressGroupSelector),m(e))}var i=jQuery,d=null!=i,u=!1,y={},w={bodyClass:"has-google-autocomplete",formRowSelector:".form-row",select2Selector:'[class*="select2"]',autocompleteInputSelector:"#address_1, #shipping_address_1, #billing_address_1",autocompleteEnabledInputSelector:".pac-target-input",addressGroupSelector:".woocommerce-shipping-fields, .woocommerce-billing-fields, .woocommerce-address-fields",addressGroupShippingSelector:".woocommerce-shipping-fields",addressGroupBillingSelector:".woocommerce-billing-fields",addressFieldsSelector:'[name$="address_1"], [name$="address_2"], [name$="city"], [name$="state"], [name$="postcode"], [name$="country"]:not( input[type="hidden"] )',genericAddressType:"this",addressTypeLabelShipping:"shipping",addressTypeLabelBilling:"billing",autocompleteDefaultOptions:{fields:["address_components"],types:["address"]},allowedCountries:{},countryNotAllowedMessageSelector:".woocommerce-error.invalid-country-not-allowed",countryNotAllowedMessageTemplate:'<span class="woocommerce-error invalid-country-not-allowed">Country {country_name} is not allowed for {address_type} address.</span>',invalidMessageClass:"woocommerce-invalid",invalidMessageCountryNotAllowedClass:"woocommerce-invalid-country-not-allowed-field",componentValueType:{street_number:"short_name",route:"long_name",locality:"long_name",administrative_area_level_1:"short_name",administrative_area_level_2:"long_name",country:"short_name",postal_code:"short_name"},localeComponents:{default:{country_name:"country_name",country:"country",postcode:"postal_code",state:"administrative_area_level_1",city:"locality",address_1:["street_number","route"],components_separator:" "}}},v=function(){var o={},n=!1,e=0;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(n=arguments[0],e++);for(;e<arguments.length;e++)!function(e){for(var t in e)e.hasOwnProperty(t)&&(n&&"[object Object]"===Object.prototype.toString.call(e[t])?o[t]=v(o[t],e[t]):o[t]=e[t])}(arguments[e]);return o},h=function(e,n,t){if(n&&n.address_components){var r=[],e=(t=t||w.localeComponents.default)[e];return(e=!Array.isArray(e)?[e]:e).forEach(function(e){for(var t=0;t<n.address_components.length;t++){var o=n.address_components[t];if(e==o.types[0]){o=o.long_name;r.push(o);break}}}),r.join(t.components_separator)}};return y.init=function(e){u||(!e&&window.wfcSettings&&window.wfcSettings.googleAutoCompleteSettings&&(e=window.wfcSettings.googleAutoCompleteSettings),w=v(!0,w,e),n(),d&&i(document.body).on("updated_checkout",n),window.addEventListener("focusin",a),window.addEventListener("focusout",l),window.addEventListener("keydown",c,!0),document.body.classList.add(w.bodyClass),u=!0)},y});
//# sourceMappingURL=maps/google-address-autocomplete-110-dev-121.min.js.map

{"version":3,"file":"../checkout-steps-110-dev-61.min.js","sources":["checkout-steps-110-dev-61.js"],"sourcesContent":["/**\n * Manage checkout steps state.\n *\n * DEPENDS ON:\n * - jQuery // Interact with WooCommerce events\n */\n(function (root, factory) {\n\tif ( typeof define === 'function' && define.amd ) {\n\t\tdefine([], factory(root));\n\t} else if ( typeof exports === 'object' ) {\n\t\tmodule.exports = factory(root);\n\t} else {\n\t\troot.CheckoutSteps = factory(root);\n\t}\n})(typeof global !== 'undefined' ? global : this.window || this.global, function (root) {\n\n\t'use strict';\n\n\tvar $ = jQuery;\n\n\tvar _hasInitialized = false;\n\tvar _publicMethods = { };\n\tvar _settings = {\n\t\tbodyClass: 'wfc-checkout-steps--active',\n\t\tactiveStepBodyClassPattern: 'wfc-checkout-step--active-{ID}',\n\n\t\twrapperSelector: '#wfc-wrapper',\n\t\twrapperInsideSelector: '.wfc-inside',\n\t\ttargetWrapperAttribute: 'data-target',\n\t\t\n\t\tprogressBarSelector: '#wfc-progressbar',\n\t\tprogressBarStepSelector: '.wfc-progress-bar-step',\n\t\tprogressBarStepClass: 'wfc-progress-bar-step',\n\t\tprogressBarStepDoneClass: 'done',\n\t\tprogressBarStepCurrentClass: 'current',\n\n\t\tstepIdPattern: 'step-{ID}',\n\t\tstepIdSelector: '.wfc-progress-bar-step[data-step-index]',\n\t\tstepButtonSelector: '.wfc-step-button',\n\t\tstepSelector: '.wfc-progress-bar-step[data-step-index=\"{ID}\"]',\n\t\tstepIndexAttribute: 'data-step-index',\n\t\tstepIdAttribute: 'data-step-id',\n\t\tstepNavigationPrevSelector: '.wfc-prev',\n\t\tstepNavigationNextSelector: '.wfc-next',\n\n\t\tframeIdAttribute: 'data-frame-id',\n\t\tframeIdPattern: 'step-frame-{ID}',\n\t\tframeIdSelectorPattern: '#step-frame-{ID}',\n\t\tframeSelector: '.wfc-frame[data-step-index=\"{ID}\"]',\n\n\t\twoocommerceInvalidFieldClass: '.woocommerce-invalid',\n\n\t\ttopScrollOffset: 100,\n\n\t\tstates: {\n\t\t\tACTIVE: 'active',\n\t\t\tDISABLED: 'disabled',\n\t\t}\n\t}\n\n\tvar _wfcWrapper,\n\t\t_wfcInner,\n\t\t_progressBar,\n\t\t_frames,\n\t\t_steps;\n\n\n\n\t/**\n\t * METHODS\n\t */\n\t\n\t/**\n\t * Get the id of current step.\n\t */\n\tvar getFirstStepIndex = function() {\n\t\t// Return next available step\n\t\tfor ( var i = 0; i < _frames.length; i++ ) {\n\t\t\tif ( ! _frames[ i + 1 ].hasAttribute( _settings.states.DISABLED ) ) {\n\t\t\t\treturn i + 1;\n\t\t\t}\n\t\t}\n\t};\n\n\n\n\t/**\n\t * Get the id of current step.\n\t */\n\tvar getCurrentStepIndex = function() {\n\t\tvar currentStep = document.querySelector( '.wfc-progress-bar-step.current' );\n\t\treturn currentStep ? parseInt( currentStep.getAttribute( _settings.stepIndexAttribute ) ) : null;\n\t};\n\n\n\n\t/**\n\t * Get the id of previous available step.\n\t */\n\tvar getPrevStepId = function() {\n\t\tvar currentStepIndex = getCurrentStepIndex();\n\n\t\t// Get first enabled step if not step is active\n\t\tif ( ! currentStepIndex ) {\n\t\t\treturn getFirstStepIndex();\n\t\t}\n\n\t\tconsole.log(_frames);\n\n\t\t// Return next available step\n\t\tfor ( var i = currentStepIndex - 1; i >= 0; i-- ) {\n\t\t\tif ( ! _frames[ i - 1 ].hasAttribute( _settings.states.DISABLED ) ) {\n\t\t\t\treturn currentStepIndex - 1;\n\t\t\t}\n\t\t}\n\n\t\treturn 1;\n\t};\n\n\n\n\t/**\n\t * Get the id of next available step.\n\t */\n\tvar getNextStepIndex = function() {\n\t\tvar currentStepIndex = getCurrentStepIndex();\n\n\t\t// Get first enabled step if not step is active\n\t\tif ( ! currentStepIndex ) {\n\t\t\treturn getFirstStepIndex();\n\t\t}\n\n\t\t// Return next available step\n\t\tfor ( var i = currentStepIndex - 1; i < _frames.length; i++ ) {\n\t\t\tif ( ! _frames[ i + 1 ].hasAttribute( _settings.states.DISABLED ) ) {\n\t\t\t\treturn currentStepIndex + 1;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t};\n\n\n\n\t/**\n\t * Clear all step status\n\t */\n\tvar clearStepStatus = function() {\n\t\tfor ( var i = _frames.length - 1; i >= 0; i-- ) {\n\t\t\t// active\n\t\t\t_frames[i].classList.remove( _settings.progressBarStepCurrentClass );\n\t\t\t_steps[i].classList.remove( _settings.progressBarStepCurrentClass );\n\t\t\tdocument.body.classList.remove( _settings.activeStepBodyClassPattern.replace( '{ID}', _frames[i].getAttribute( _settings.frameIdAttribute ) ) );\n\t\t\t\n\t\t\t// done\n\t\t\tif ( ! _steps[i].hasAttribute( _settings.states.DISABLED ) ) {\n\t\t\t\t_steps[i].classList.remove( _settings.progressBarStepDoneClass );\n\t\t\t}\n\t\t}\n\t};\n\n\n\n\t/**\n\t * Mark steps as done.\n\t */\n\tvar markStepsDone = function() {\n\t\tvar currentStepIndex = getCurrentStepIndex();\n\t\tfor ( var i = _steps.length - 1; i >= 0; i-- ) {\n\t\t\tvar stepId = _steps[i].getAttribute( _settings.stepIndexAttribute );\n\t\t\tif ( ! _steps[i].hasAttribute( _settings.states.DISABLED ) && stepId < currentStepIndex ) {\n\t\t\t\t_steps[i].classList.add( _settings.progressBarStepDoneClass );\n\t\t\t}\n\t\t}\n\t};\n\n\n\n\t/**\n\t * Mark step as current.\n\t */\n\tvar markStepActive = function( step, frame, scrollToElement ) {\n\t\t// Set step as current\n\t\tstep.classList.add( _settings.progressBarStepCurrentClass );\n\t\tframe.classList.add( _settings.progressBarStepCurrentClass );\n\t\tdocument.body.classList.add( _settings.activeStepBodyClassPattern.replace( '{ID}', frame.getAttribute( _settings.frameIdAttribute ) ) );\n\n\t\t// TODO: Better animation handling with slide left/right depending on the position of the step\n\t\t\n\t\t// Maybe scroll step into view\n\t\tif ( scrollToElement ) {\n\t\t\tif ( frame ) {\n\t\t\t\tscrollTo( frame );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tscrollTo( _progressBar );\n\t\t\t}\n\t\t}\n\t};\n\n\n\n\t/**\n\t * Change current step.\n\t */\n\tvar setCurrentStep = function( stepIndex, scrollToElement ) {\n\t\tvar currentStepIndex = getCurrentStepIndex();\n\n\t\t// Bail if is current active step\n\t\tif ( currentStepIndex && currentStepIndex == stepIndex ) { return; }\n\t\t\n\t\tvar\tstep = document.querySelector( _settings.stepSelector.replace( '{ID}', stepIndex ) ),\n\t\t\tframe = document.querySelector( _settings.frameSelector.replace( '{ID}', stepIndex ) );\n\n\t\t// Clear step status, mark as active and done\n\t\tclearStepStatus();\n\t\tmarkStepActive( step, frame, scrollToElement );\n\t\tmarkStepsDone();\n\t};\n\n\n\n\t/**\n\t * Create progress bar steps.\n\t */\n\tvar initSteps = function() {\n\n\t\t// Clear progress bar placeholders\n\t\twhile ( _progressBar.firstChild ) {\n\t\t\t_progressBar.removeChild( _progressBar.firstChild );\n\t\t}\n\n\t\t// Get frames\n\t\t_frames = document.querySelectorAll( '.wfc-frame' );\n\n\t\t// Add ID to each frame and steps on progress bar\n\t\tfor ( var i = _frames.length - 1; i >= 0; i-- ) {\n\t\t\tvar index = i + 1,\n\t\t\t\tstepId = _frames[i].getAttribute( _settings.stepIdAttribute ),\n\t\t\t\tlabel = _frames[i].getAttribute( 'data-label' ),\n\t\t\t\tstep = document.createElement( 'div' );\n\t\t\t\n\t\t\t// Make sure stepId has a value\n\t\t\tif ( stepId == null || _frames[i].getAttribute( _settings.stepIdAttribute ) == '' ) { stepId = index; };\n\n\t\t\tstep.classList.add( _settings.progressBarStepClass );\n\t\t\tstep.setAttribute( 'id', _settings.stepIdPattern.replace( '{ID}', stepId ) );\n\t\t\tstep.setAttribute( _settings.stepIndexAttribute, index );\n\t\t\tstep.textContent = label;\n\n\t\t\tif ( _frames[i].hasAttribute( _settings.states.DISABLED ) ) {\n\t\t\t\tstep.setAttribute( _settings.states.DISABLED , _settings.states.DISABLED );\n\t\t\t}\n\n\t\t\tif ( _frames[i].classList.contains( _settings.progressBarStepDoneClass ) ) {\n\t\t\t\tstep.classList.add( _settings.progressBarStepDoneClass );\n\t\t\t}\n\n\t\t\t_progressBar.insertBefore( step, _progressBar.firstChild );\n\t\t\t\n\t\t\t_frames[i].setAttribute( 'id', _settings.frameIdPattern.replace( '{ID}', stepId ) );\n\t\t\t_frames[i].setAttribute( _settings.frameIdAttribute, stepId );\n\t\t\t_frames[i].setAttribute( _settings.stepIndexAttribute, index );\n\t\t}\n\n\t\t// Get steps\n\t\t_steps = document.querySelectorAll( _settings.progressBarStepSelector );\n\n\t\t// Show first available step\n\t\tsetCurrentStep( getNextStepIndex(), false );\n\t};\n\n\n\n\t/**\n\t * Get element offset values from page limits\n\t * \n\t * @see https://stackoverflow.com/a/442474/5732235\n\t */\n\tvar getOffset = function( el ) {\n\t\tvar _x = 0;\n\t\tvar _y = 0;\n\t\twhile( el && !isNaN( el.offsetLeft ) && !isNaN( el.offsetTop ) ) {\n\t\t\t_x += el.offsetLeft - el.scrollLeft;\n\t\t\t_y += el.offsetTop - el.scrollTop;\n\t\t\tel = el.offsetParent;\n\t\t}\n\t\treturn { top: _y, left: _x };\n\t}\n\n\n\n\t/**\n\t * Scroll element into viewport.\n\t * @param  {Element} element Element to get position and scroll viewport to.\n\t */\n\tvar scrollTo = function( element ) {\n\t\twindow.scroll( {\n\t\t\tbehavior: 'smooth',\n\t\t\tleft: 0,\n\t\t\ttop: getOffset( element ).top - _settings.topScrollOffset\n\t\t} );\n\t};\n\n\n\t\n\t/**\n\t * Handle clicks on steps progress bar.\n\t */\n\tvar handleStepClick = function( e ) {\n\t\te.preventDefault();\n\t\tvar step = e.target.closest( _settings.stepIdSelector );\n\t\tsetCurrentStep( step.getAttribute( _settings.stepIndexAttribute ), true );\n\t};\n\n\n\n\t/**\n\t * Handle clicks on buttons that lead to a specific step.\n\t */\n\tvar handleStepButtonClick = function( e ) {\n\t\te.preventDefault();\n\t\tvar button = e.target.closest( _settings.stepButtonSelector );\n\t\tsetCurrentStep( button.getAttribute( _settings.stepIndexAttribute ), true );\n\t};\n\n\n\n\t/**\n\t * Handle clicks on next step buttons.\n\t */\n\tvar handleNextStepClick = function( e ) {\n\t\te.preventDefault();\n\n\t\t// Validate step fields\n\t\tif ( window.CheckoutValidation ) {\n\t\t\t\n\t\t\tvar currentStepIndex = getCurrentStepIndex(),\n\t\t\t\tframe = _wfcWrapper.querySelector( _settings.frameSelector.replace( '{ID}', currentStepIndex ) );\n\t\t\t\n\t\t\t// Bail if not all fields valid and stay in the same step\n\t\t\tif ( ! window.CheckoutValidation.validateAllFields( frame ) ) {\n\t\t\t\tvar element = frame.querySelector( _settings.woocommerceInvalidFieldClass );\n\t\t\t\tscrollTo( element );\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// Go to next step\n\t\tsetCurrentStep( getNextStepIndex(), true );\n\t};\n\n\n\n\t/**\n\t * Handle clicks on previous step buttons.\n\t */\n\tvar handlePrevStepClick = function( e ) {\n\t\te.preventDefault();\n\n\t\t// Go to prev step\n\t\tsetCurrentStep( getPrevStepId(), true );\n\t};\n\n\n\n\t/**\n\t * Handle document clicks and route to the appropriate function.\n\t */\n\tvar handleClick = function( e ) {\n\t\tif ( e.target.closest( _settings.stepIdSelector + ':not([disabled])' ) ) {\n\t\t\thandleStepClick( e );\n\t\t}\n\t\telse if ( e.target.closest( _settings.stepButtonSelector + ':not([disabled])' ) ) {\n\t\t\thandleStepButtonClick( e );\n\t\t}\n\t\telse if ( e.target.closest( _settings.stepNavigationPrevSelector + ':not([disabled])' ) ) {\n\t\t\thandlePrevStepClick( e );\n\t\t}\n\t\telse if ( e.target.closest( _settings.stepNavigationNextSelector + ':not([disabled])' ) ) {\n\t\t\thandleNextStepClick( e );\n\t\t}\n\t};\n\n\n\n\t/**\n\t * Initialize component and set related handlers.\n\t */\n\t_publicMethods.refreshSteps = function() {\n\t\t_wfcWrapper = document.querySelector( _settings.wrapperSelector );\n\t\t_wfcInner = document.querySelector( _settings.wrapperInsideSelector );\n\t\t_progressBar = document.querySelector( _settings.progressBarSelector );\n\n\t\t// Bail if elements not present\n\t\tif ( ! _wfcWrapper || ! _wfcInner || ! _progressBar ) { return; }\n\n\t\tinitSteps();\n\t}\n\n\n\n\t/**\n\t * Initialize component and set related handlers.\n\t */\n\t_publicMethods.init = function() {\n\t\tif ( _hasInitialized ) return;\n\n\t\t_publicMethods.refreshSteps();\n\t\t\n\t\t// Add event listeners\n\t\twindow.addEventListener( 'click', handleClick );\n\t\t$( document ).on( 'load_ajax_content_done', _publicMethods.refreshSteps );\n\n\t\t// Add init class\n\t\tdocument.body.classList.add( _settings.bodyClass );\n\n\t\t_hasInitialized = true;\n\t};\n\n\n\n\t//\n\t// Public APIs\n\t//\n\treturn _publicMethods;\n\n});\n"],"names":["root","factory","define","amd","exports","module","CheckoutSteps","global","this","window","getFirstStepIndex","i","_frames","length","hasAttribute","_settings","states","DISABLED","getCurrentStepIndex","currentStep","document","querySelector","parseInt","getAttribute","stepIndexAttribute","getNextStepIndex","currentStepIndex","setCurrentStep","stepIndex","scrollToElement","step","frame","stepSelector","replace","frameSelector","classList","remove","progressBarStepCurrentClass","_steps","body","activeStepBodyClassPattern","frameIdAttribute","progressBarStepDoneClass","clearStepStatus","add","scrollTo","_progressBar","stepId","markStepsDone","handlePrevStepClick","e","preventDefault","console","log","getPrevStepId","handleClick","target","closest","stepIdSelector","handleStepClick","stepButtonSelector","button","handleStepButtonClick","stepNavigationPrevSelector","stepNavigationNextSelector","CheckoutValidation","_wfcWrapper","validateAllFields","element","woocommerceInvalidFieldClass","handleNextStepClick","_wfcInner","$","jQuery","_hasInitialized","_publicMethods","bodyClass","wrapperSelector","wrapperInsideSelector","targetWrapperAttribute","progressBarSelector","progressBarStepSelector","progressBarStepClass","stepIdPattern","stepIdAttribute","frameIdPattern","frameIdSelectorPattern","topScrollOffset","ACTIVE","scroll","behavior","left","top","el","_x","_y","isNaN","offsetLeft","offsetTop","scrollLeft","scrollTop","offsetParent","getOffset","refreshSteps","firstChild","removeChild","querySelectorAll","index","label","createElement","setAttribute","textContent","contains","insertBefore","initSteps","init","addEventListener","on"],"mappings":"CAMA,SAAWA,EAAMC,GACO,mBAAXC,QAAyBA,OAAOC,IAC3CD,OAAO,GAAID,KACmB,iBAAZG,QAClBC,OAAOD,QAAUH,IAEjBD,EAAKM,cAAgBL,IANvB,CAQqB,oBAAXM,OAAyBA,OAASC,KAAKC,QAAUD,KAAKD,OAAQ,SAAUP,gBA6DzD,SAApBU,IAEH,IAAM,IAAIC,EAAI,EAAGA,EAAIC,EAAQC,OAAQF,IACpC,IAAOC,EAASD,EAAI,GAAIG,aAAcC,EAAUC,OAAOC,UACtD,OAAON,EAAI,EAUY,SAAtBO,IACH,IAAIC,EAAcC,SAASC,cAAe,kCAC1C,OAAOF,EAAcG,SAAUH,EAAYI,aAAcR,EAAUS,qBAAyB,KAiCtE,SAAnBC,IACH,IAAIC,EAAmBR,IAGvB,IAAOQ,EACN,OAAOhB,IAIR,IAAM,IAAIC,EAAIe,EAAmB,EAAGf,EAAIC,EAAQC,OAAQF,IACvD,IAAOC,EAASD,EAAI,GAAIG,aAAcC,EAAUC,OAAOC,UACtD,OAAOS,EAAmB,EAI5B,OAAO,KAkEa,SAAjBC,EAA2BC,EAAWC,GACzC,IAKIC,EACHC,EA/BmCA,EAAOF,EAyBvCH,EAAmBR,IAGlBQ,GAAoBA,GAAoBE,IAEzCE,EAAOV,SAASC,cAAeN,EAAUiB,aAAaC,QAAS,OAAQL,IAC1EG,EAAQX,SAASC,cAAeN,EAAUmB,cAAcD,QAAS,OAAQL,IAjErD,WACrB,IAAM,IAAIjB,EAAIC,EAAQC,OAAS,EAAQ,GAALF,EAAQA,IAEzCC,EAAQD,GAAGwB,UAAUC,OAAQrB,EAAUsB,6BACvCC,EAAO3B,GAAGwB,UAAUC,OAAQrB,EAAUsB,6BACtCjB,SAASmB,KAAKJ,UAAUC,OAAQrB,EAAUyB,2BAA2BP,QAAS,OAAQrB,EAAQD,GAAGY,aAAcR,EAAU0B,oBAGlHH,EAAO3B,GAAGG,aAAcC,EAAUC,OAAOC,WAC/CqB,EAAO3B,GAAGwB,UAAUC,OAAQrB,EAAU2B,0BA2DxCC,GAlCoCZ,EAmCdA,EAnCqBF,EAmCdA,EAAbC,EAjCXK,UAAUS,IAAK7B,EAAUsB,6BAC9BN,EAAMI,UAAUS,IAAK7B,EAAUsB,6BAC/BjB,SAASmB,KAAKJ,UAAUS,IAAK7B,EAAUyB,2BAA2BP,QAAS,OAAQF,EAAMR,aAAcR,EAAU0B,oBAK5GZ,GAEHgB,EADId,GAIMe,GA7BO,WAEnB,IADA,IAAIpB,EAAmBR,IACbP,EAAI2B,EAAOzB,OAAS,EAAQ,GAALF,EAAQA,IAAM,CAC9C,IAAIoC,EAAST,EAAO3B,GAAGY,aAAcR,EAAUS,qBACxCc,EAAO3B,GAAGG,aAAcC,EAAUC,OAAOC,WAAc8B,EAASrB,GACtEY,EAAO3B,GAAGwB,UAAUS,IAAK7B,EAAU2B,2BA8CrCM,IA4IyB,SAAtBC,EAAgCC,GACnCA,EAAEC,iBAGFxB,EAtQmB,WACnB,IAAID,EAAmBR,IAGvB,IAAOQ,EACN,OAAOhB,IAGR0C,QAAQC,IAAIzC,GAGZ,IAAM,IAAID,EAAIe,EAAmB,EAAQ,GAALf,EAAQA,IAC3C,IAAOC,EAASD,EAAI,GAAIG,aAAcC,EAAUC,OAAOC,UACtD,OAAOS,EAAmB,EAI5B,OAAO,EAqPS4B,IAAiB,GAQhB,SAAdC,EAAwBL,GACtBA,EAAEM,OAAOC,QAAS1C,EAAU2C,eAAiB,oBA7D7B,SAAUR,GAC/BA,EAAEC,iBACF,IAAIrB,EAAOoB,EAAEM,OAAOC,QAAS1C,EAAU2C,gBACvC/B,EAAgBG,EAAKP,aAAcR,EAAUS,qBAAsB,GA2DlEmC,CAAiBT,GAERA,EAAEM,OAAOC,QAAS1C,EAAU6C,mBAAqB,oBArDhC,SAAUV,GACrCA,EAAEC,iBACF,IAAIU,EAASX,EAAEM,OAAOC,QAAS1C,EAAU6C,oBACzCjC,EAAgBkC,EAAOtC,aAAcR,EAAUS,qBAAsB,GAmDpEsC,CAAuBZ,GAEdA,EAAEM,OAAOC,QAAS1C,EAAUgD,2BAA6B,oBAClEd,EAAqBC,GAEZA,EAAEM,OAAOC,QAAS1C,EAAUiD,2BAA6B,qBAhD1C,SAAUd,GAInC,GAHAA,EAAEC,iBAGG1C,OAAOwD,mBAAqB,CAEhC,IAAIvC,EAAmBR,IACtBa,EAAQmC,EAAY7C,cAAeN,EAAUmB,cAAcD,QAAS,OAAQP,IAG7E,IAAOjB,OAAOwD,mBAAmBE,kBAAmBpC,GAAU,CAC7D,IAAIqC,EAAUrC,EAAMV,cAAeN,EAAUsD,8BAE7C,OADAxB,EAAUuB,IAMZzC,EAAgBF,KAAoB,GA+BnC6C,CAAqBpB,GA1WvB,IA0CIgB,EACHK,EACAzB,EACAlC,EACA0B,EA9CGkC,EAAIC,OAEJC,GAAkB,EAClBC,EAAiB,GACjB5D,EAAY,CACf6D,UAAW,6BACXpC,2BAA4B,iCAE5BqC,gBAAiB,eACjBC,sBAAuB,cACvBC,uBAAwB,cAExBC,oBAAqB,mBACrBC,wBAAyB,yBACzBC,qBAAsB,wBACtBxC,yBAA0B,OAC1BL,4BAA6B,UAE7B8C,cAAe,YACfzB,eAAgB,0CAChBE,mBAAoB,mBACpB5B,aAAc,iDACdR,mBAAoB,kBACpB4D,gBAAiB,eACjBrB,2BAA4B,YAC5BC,2BAA4B,YAE5BvB,iBAAkB,gBAClB4C,eAAgB,kBAChBC,uBAAwB,mBACxBpD,cAAe,qCAEfmC,6BAA8B,uBAE9BkB,gBAAiB,IAEjBvE,OAAQ,CACPwE,OAAQ,SACRvE,SAAU,aAgPR4B,EAAW,SAAUuB,GACxB3D,OAAOgF,OAAQ,CACdC,SAAU,SACVC,KAAM,EACNC,IArBc,SAAUC,GAGzB,IAFA,IAAIC,EAAK,EACLC,EAAK,EACFF,IAAOG,MAAOH,EAAGI,cAAiBD,MAAOH,EAAGK,YAClDJ,GAAMD,EAAGI,WAAaJ,EAAGM,WACzBJ,GAAMF,EAAGK,UAAYL,EAAGO,UACxBP,EAAKA,EAAGQ,aAET,MAAO,CAAET,IAAKG,EAAIJ,KAAMG,GAalBQ,CAAWlC,GAAUwB,IAAM7E,EAAUwE,mBA6H5C,OApCAZ,EAAe4B,aAAe,WAC7BrC,EAAc9C,SAASC,cAAeN,EAAU8D,iBAChDN,EAAYnD,SAASC,cAAeN,EAAU+D,uBAC9ChC,EAAe1B,SAASC,cAAeN,EAAUiE,qBAG1Cd,GAAiBK,GAAezB,GA1KxB,WAGf,KAAQA,EAAa0D,YACpB1D,EAAa2D,YAAa3D,EAAa0D,YAOxC,IAAM,IAAI7F,GAHVC,EAAUQ,SAASsF,iBAAkB,eAGf7F,OAAS,EAAQ,GAALF,EAAQA,IAAM,CAC/C,IAAIgG,EAAQhG,EAAI,EACfoC,EAASnC,EAAQD,GAAGY,aAAcR,EAAUqE,iBAC5CwB,EAAQhG,EAAQD,GAAGY,aAAc,cACjCO,EAAOV,SAASyF,cAAe,OAGjB,MAAV9D,GAA0E,IAAxDnC,EAAQD,GAAGY,aAAcR,EAAUqE,mBAA4BrC,EAAS4D,GAE/F7E,EAAKK,UAAUS,IAAK7B,EAAUmE,sBAC9BpD,EAAKgF,aAAc,KAAM/F,EAAUoE,cAAclD,QAAS,OAAQc,IAClEjB,EAAKgF,aAAc/F,EAAUS,mBAAoBmF,GACjD7E,EAAKiF,YAAcH,EAEdhG,EAAQD,GAAGG,aAAcC,EAAUC,OAAOC,WAC9Ca,EAAKgF,aAAc/F,EAAUC,OAAOC,SAAWF,EAAUC,OAAOC,UAG5DL,EAAQD,GAAGwB,UAAU6E,SAAUjG,EAAU2B,2BAC7CZ,EAAKK,UAAUS,IAAK7B,EAAU2B,0BAG/BI,EAAamE,aAAcnF,EAAMgB,EAAa0D,YAE9C5F,EAAQD,GAAGmG,aAAc,KAAM/F,EAAUsE,eAAepD,QAAS,OAAQc,IACzEnC,EAAQD,GAAGmG,aAAc/F,EAAU0B,iBAAkBM,GACrDnC,EAAQD,GAAGmG,aAAc/F,EAAUS,mBAAoBmF,GAIxDrE,EAASlB,SAASsF,iBAAkB3F,EAAUkE,yBAG9CtD,EAAgBF,KAAoB,GAgIpCyF,IAQDvC,EAAewC,KAAO,WAChBzC,IAELC,EAAe4B,eAGf9F,OAAO2G,iBAAkB,QAAS7D,GAClCiB,EAAGpD,UAAWiG,GAAI,yBAA0B1C,EAAe4B,cAG3DnF,SAASmB,KAAKJ,UAAUS,IAAK7B,EAAU6D,WAEvCF,GAAkB,IAQZC"}
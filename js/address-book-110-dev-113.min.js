!function(e,t){"function"==typeof define&&define.amd?define([],t()):"object"==typeof exports?module.exports=t():e.AddressBook=t()}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";var a=jQuery,r=null!=a,t=!1,o={},d="wfc-address-book--active",i=".wfc-address-book",c=".address-book",n=".address-book__entry-radio",l="[data-address-book-new]",u="[data-address-book-same]",s="input, select, textarea",f='[name$="_address_id"], #shipping_address_save, #billing_address_save',g=".form-row",b='[class*="select2"]',v="#billing_first_name, #billing_last_name, #billing_phone",h="[data-field-edited]",m="data-address",y="data-address-type",_="data-address-same-as-checked",p="data-copy-to-field",k="data-field-edited",w="active",A=!0,S="";function q(e,t){e&&(t=null==t||null==t?"":t,e.value=t,r&&e.matches(b)&&(a(e).val(t),a(e).select2().trigger("change")),window.CheckoutValidation&&CheckoutValidation.clearValidationResults(e,e.closest(g)))}function x(e,t){if(A&&t){V(e);var a=function(e){try{var t=e.getAttribute(m);return JSON.parse(t)}catch(e){return!1}}(t);if(a)for(var r=t.getAttribute(y),o=Object.keys(a),d=0;d<o.length;d++){var n=o[d],s=r+"_"+o[d],i=e.querySelector('[name="'+s+'"]');q(i,a[n])}}}function L(){A&&a(document.body).trigger("update_checkout")}function j(e){var t,a,r,o,d,n,s=e.closest(i);a=e,(t=s)&&a&&((r=t.querySelector(".wfc-address-book__form-wrapper"))&&(a.matches(l)?r.classList.add(w):r.classList.remove(w))),d=e,(o=s)&&d&&((n=o.querySelector(c))&&(d.matches(u)?n.setAttribute(_,"1"):n.removeAttribute(_))),x(s,e),L()}function O(e){var t;e.target.matches(n)?j(e.target):e.target.matches(v)?function(e){var t=e.getAttribute(p);if(t&&""!=t)for(var a=document.querySelectorAll(t),r=0;r<a.length;r++){var o=a[r];o.matches(h)||(o.value=e.value)}}(e.target):e.target.matches(S)&&(t=e.target)&&t.setAttribute(k,"1")}var V=function(e){if(e){A=!1;for(var t=e.querySelectorAll(s),a=0;a<t.length;a++){var r=t[a];r.matches(f)||q(r,"")}A=!0}},C=function(){};return o.init=function(){t||(window.addEventListener("change",O),a(document.body).on("updated_checkout",C),C(),function(){for(var e=document.querySelectorAll(v),t=0;t<e.length;t++){var a=e[t].getAttribute(p);-1==S.indexOf(a)&&(S+=0<S.length?", ":"",S+=a)}}(),document.body.classList.add(d),t=!0)},o});
//# sourceMappingURL=maps/address-book-110-dev-113.min.js.map

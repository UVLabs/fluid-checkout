!function(e,t){"function"==typeof define&&define.amd?define([],t()):"object"==typeof exports?module.exports=t():e.CheckoutSteps=t()}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";function r(){for(var e=0;e<d.length;e++)if(!d[e+1].hasAttribute(b.states.DISABLED))return e+1}function s(){var e=document.querySelector(".wfc-progress-bar-step.current");return e?parseInt(e.getAttribute(b.stepIndexAttribute)):null}function o(){var e=s();if(!e)return r();for(var t=e-1;t<d.length;t++)if(!d[t+1].hasAttribute(b.states.DISABLED))return e+1;return null}function n(e,t){var r=s();r&&r==e||(r=document.querySelector(b.stepSelector.replace("{ID}",e)),e=document.querySelector(b.frameSelector.replace("{ID}",e)),function(){for(var e=d.length-1;0<=e;e--)d[e].classList.remove(b.progressBarStepCurrentClass),p[e].classList.remove(b.progressBarStepCurrentClass),document.body.classList.remove(b.activeStepBodyClassPattern.replace("{ID}",d[e].getAttribute(b.frameIdAttribute))),p[e].hasAttribute(b.states.DISABLED)||p[e].classList.remove(b.progressBarStepDoneClass)}(),e=e,t=t,r.classList.add(b.progressBarStepCurrentClass),e.classList.add(b.progressBarStepCurrentClass),document.body.classList.add(b.activeStepBodyClassPattern.replace("{ID}",e.getAttribute(b.frameIdAttribute))),t&&g(e||l),function(){for(var e=s(),t=p.length-1;0<=t;t--){var r=p[t].getAttribute(b.stepIndexAttribute);!p[t].hasAttribute(b.states.DISABLED)&&r<e&&p[t].classList.add(b.progressBarStepDoneClass)}}())}function t(e){e.preventDefault(),n(function(){var e=s();if(!e)return r();for(var t=e-1;0<=t;t--)if(!d[t-1].hasAttribute(b.states.DISABLED))return e-1;return 1}(),!0)}function a(e){e.target.closest(b.stepIdSelector+":not([disabled])")?function(e){e.preventDefault();e=e.target.closest(b.stepIdSelector);n(e.getAttribute(b.stepIndexAttribute),!0)}(e):e.target.closest(b.stepButtonSelector+":not([disabled])")?function(e){e.preventDefault();e=e.target.closest(b.stepButtonSelector);n(e.getAttribute(b.stepIndexAttribute),!0)}(e):e.target.closest(b.stepNavigationPrevSelector+":not([disabled])")?t(e):e.target.closest(b.stepNavigationNextSelector+":not([disabled])")?function(e){if(e.preventDefault(),window.CheckoutValidation){e=s(),e=c.querySelector(b.frameSelector.replace("{ID}",e));if(!window.CheckoutValidation.validateAllFields(e)){e=e.querySelector(b.woocommerceInvalidFieldClass);return g(e)}}n(o(),!0)}(e):e.target.closest(b.editContactSelector)&&(e.preventDefault(),(e=document.querySelector(b.userDataSelector))&&e.parentNode.removeChild(e))}var c,i,l,d,p,u=jQuery,f=!1,S={},b={bodyClass:"wfc-checkout-steps--active",activeStepBodyClassPattern:"wfc-checkout-step--active-{ID}",wrapperSelector:"#wfc-wrapper",wrapperInsideSelector:".wfc-inside",targetWrapperAttribute:"data-target",progressBarSelector:"#wfc-progressbar",progressBarStepSelector:".wfc-progress-bar-step",progressBarStepClass:"wfc-progress-bar-step",progressBarStepDoneClass:"done",progressBarStepCurrentClass:"current",stepIdPattern:"step-{ID}",stepIdSelector:".wfc-progress-bar-step[data-step-index]",stepButtonSelector:".wfc-step-button",stepSelector:'.wfc-progress-bar-step[data-step-index="{ID}"]',stepIndexAttribute:"data-step-index",stepIdAttribute:"data-step-id",stepNavigationPrevSelector:".wfc-prev",stepNavigationNextSelector:".wfc-next",frameIdAttribute:"data-frame-id",frameIdPattern:"step-frame-{ID}",frameIdSelectorPattern:"#step-frame-{ID}",frameSelector:'.wfc-frame[data-step-index="{ID}"]',woocommerceInvalidFieldClass:".woocommerce-invalid",editContactSelector:"[data-user-contact-edit]",userDataSelector:"[data-user-data-wrapper]",topScrollOffset:100,states:{ACTIVE:"active",DISABLED:"disabled"}},g=function(e){window.scroll({behavior:"smooth",left:0,top:function(e){for(var t=0,r=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-e.scrollLeft,r+=e.offsetTop-e.scrollTop,e=e.offsetParent;return{top:r,left:t}}(e).top-b.topScrollOffset})};return S.refreshSteps=function(){c=document.querySelector(b.wrapperSelector),i=document.querySelector(b.wrapperInsideSelector),l=document.querySelector(b.progressBarSelector),c&&i&&l&&function(){for(;l.firstChild;)l.removeChild(l.firstChild);for(var e=(d=document.querySelectorAll(".wfc-frame")).length-1;0<=e;e--){var t=e+1,r=d[e].getAttribute(b.stepIdAttribute),s=d[e].getAttribute("data-label"),a=document.createElement("div");null!=r&&""!=d[e].getAttribute(b.stepIdAttribute)||(r=t),a.classList.add(b.progressBarStepClass),a.setAttribute("id",b.stepIdPattern.replace("{ID}",r)),a.setAttribute(b.stepIndexAttribute,t),a.textContent=s,d[e].hasAttribute(b.states.DISABLED)&&a.setAttribute(b.states.DISABLED,b.states.DISABLED),d[e].classList.contains(b.progressBarStepDoneClass)&&a.classList.add(b.progressBarStepDoneClass),l.insertBefore(a,l.firstChild),d[e].setAttribute("id",b.frameIdPattern.replace("{ID}",r)),d[e].setAttribute(b.frameIdAttribute,r),d[e].setAttribute(b.stepIndexAttribute,t)}p=document.querySelectorAll(b.progressBarStepSelector),n(o(),!1)}()},S.init=function(){f||(S.refreshSteps(),window.addEventListener("click",a),u(document).on("load_ajax_content_done",S.refreshSteps),document.body.classList.add(b.bodyClass),f=!0)},S});
//# sourceMappingURL=maps/checkout-steps-120-dev-1.min.js.map

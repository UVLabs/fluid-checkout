!function(e,t){"function"==typeof define&&define.amd?define([],t()):"object"==typeof exports?module.exports=t():e.Ziptastic=t()}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";function s(o,e){var t,i,c;p.ziptasticAPIKey&&(i="US",(t=o.closest(p.fieldWrappers).querySelector(p.countryFields))&&""!=t.value&&(i=t.value),(c=new XMLHttpRequest).open("GET","//zip.getziptastic.com/v3/"+i+"/"+e),c.setRequestHeader("Content-Type","application/json"),c.setRequestHeader("x-key",p.ziptasticAPIKey),c.onload=function(){var e,t,i,s,n,a,r;200===c.status&&(e=JSON.parse(c.responseText),t=o,i=e[0],(r=t.closest(p.fieldWrappers))&&(s=r.querySelector(p.cityFields),n=r.querySelector(p.stateFields),a=r.querySelector(p.countryFields),s&&s.value!=i.city&&(s.value=i.city,s.dispatchEvent(new CustomEvent("change"),{bubbles:!0})),a&&a.value!=i.country&&(p.hasJQuery&&l(a).data("select2")?l(a).val(i.country).trigger("change"):a.value=i.country,a.dispatchEvent(new CustomEvent("change"),{bubbles:!0})),n&&n.value!=i.state_short&&(p.hasJQuery&&l(n).data("select2")?l(n).val(i.state_short).trigger("change"):n.value=i.state_short,n.dispatchEvent(new CustomEvent("change"),{bubbles:!0}))))},c.send())}function t(e){var t,i;e.target.matches(p.zipFields)&&(t=e,p.ziptasticAPIKey&&t.target&&("keyup"==t.type&&[9,27].includes(t.keyCode)||((i=t.target.value).length<p.minChars||s(t.target,i))))}var l=jQuery,i=!1,n={},p={hasJQuery:null!=l,ziptasticAPIKey:!1,zipFields:"#billing_postcode, #shipping_postcode",fieldWrappers:".woocommerce-billing-fields__field-wrapper, .woocommerce-shipping-fields__field-wrapper, .woocommerce-address-fields__field-wrapper",cityFields:"#billing_city, #shipping_city",stateFields:"#billing_state, #shipping_state",countryFields:"#billing_country, #shipping_country",minChars:5},a=function(){var i={},s=!1,e=0;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(s=arguments[0],e++);for(;e<arguments.length;e++){!function(e){for(var t in e)e.hasOwnProperty(t)&&(s&&"[object Object]"===Object.prototype.toString.call(e[t])?i[t]=a(i[t],e[t]):i[t]=e[t])}(arguments[e])}return i};return n.init=function(){i||ziptasticVars&&(p=a(p,ziptasticVars),window.addEventListener("keyup",t,!0),window.addEventListener("change",t,!0),i=!0)},n});
//# sourceMappingURL=maps/ziptastic-110-dev-51.min.js.map

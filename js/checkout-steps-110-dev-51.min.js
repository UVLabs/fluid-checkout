!function(t,e){"function"==typeof define&&define.amd?define([],e()):"object"==typeof exports?module.exports=e():t.CheckoutSteps=e()}("undefined"!=typeof global?global:this.window||this.global,function(t){"use strict";function r(){for(var t=0;t<l.length;t++)if(!l[t+1].hasAttribute(S.states.DISABLED))return t+1}function c(){var t=document.querySelector(".wfc-progress-bar-step.current");return t?parseInt(t.getAttribute(S.stepIndexAttribute)):null}function o(){var t=c();if(!t)return r();for(var e=t-1;e<l.length;e++)if(!l[e+1].hasAttribute(S.states.DISABLED))return t+1;return null}function n(t,e){var r,s,a,o,n=c();n&&n==t||(r=document.querySelector(S.stepSelector.replace("{ID}",t)),s=document.querySelector(S.frameSelector.replace("{ID}",t)),function(){for(var t=l.length-1;0<=t;t--)l[t].classList.remove(S.progressBarStepCurrentClass),p[t].classList.remove(S.progressBarStepCurrentClass),document.body.classList.remove(S.activeStepBodyClassPattern.replace("{ID}",l[t].getAttribute(S.frameIdAttribute))),p[t].hasAttribute(S.states.DISABLED)||p[t].classList.remove(S.progressBarStepDoneClass)}(),a=s,o=e,r.classList.add(S.progressBarStepCurrentClass),a.classList.add(S.progressBarStepCurrentClass),document.body.classList.add(S.activeStepBodyClassPattern.replace("{ID}",a.getAttribute(S.frameIdAttribute))),o&&b(a||i),function(){for(var t=c(),e=p.length-1;0<=e;e--){var r=p[e].getAttribute(S.stepIndexAttribute);!p[e].hasAttribute(S.states.DISABLED)&&r<t&&p[e].classList.add(S.progressBarStepDoneClass)}}())}function e(t){t.target.closest(S.stepIdSelector+":not([disabled])")?function(t){t.preventDefault();var e=t.target.closest(S.stepIdSelector);n(e.getAttribute(S.stepIndexAttribute),!0)}(t):(t.target.closest(S.stepButtonSelector),function(t){t.preventDefault();var e=t.target.closest(S.stepButtonSelector);n(e.getAttribute(S.stepIndexAttribute),!0)}(t))}var s,a,i,l,p,d=jQuery,u=!1,f={},S={bodyClass:"wfc-checkout-steps--active",activeStepBodyClassPattern:"wfc-checkout-step--active-{ID}",wrapperSelector:"#wfc-wrapper",wrapperInsideSelector:".wfc-inside",targetWrapperAttribute:"data-target",progressBarSelector:"#wfc-progressbar",progressBarStepSelector:".wfc-progress-bar-step",progressBarStepClass:"wfc-progress-bar-step",progressBarStepDoneClass:"done",progressBarStepCurrentClass:"current",stepIdPattern:"step-{ID}",stepIdSelector:".wfc-progress-bar-step[data-step-index]",stepButtonSelector:".wfc-step-button",stepSelector:'.wfc-progress-bar-step[data-step-index="{ID}"]',stepIndexAttribute:"data-step-index",stepIdAttribute:"data-step-id",stepNavigationPrevSelector:".wfc-prev",stepNavigationNextSelector:".wfc-next",frameIdAttribute:"data-frame-id",frameIdPattern:"step-frame-{ID}",frameIdSelectorPattern:"#step-frame-{ID}",frameSelector:'.wfc-frame[data-step-index="{ID}"]',woocommerceInvalidFieldClass:".woocommerce-invalid",topScrollOffset:100,states:{ACTIVE:"active",DISABLED:"disabled"}},b=function(t){window.scroll({behavior:"smooth",left:0,top:function(t){for(var e=0,r=0;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)e+=t.offsetLeft-t.scrollLeft,r+=t.offsetTop-t.scrollTop,t=t.offsetParent;return{top:r,left:e}}(t).top-S.topScrollOffset})};return f.refreshSteps=function(){s=document.querySelector(S.wrapperSelector),a=document.querySelector(S.wrapperInsideSelector),i=document.querySelector(S.progressBarSelector),s&&a&&i&&function(){for(;i.firstChild;)i.removeChild(i.firstChild);for(var t=(l=document.querySelectorAll(".wfc-frame")).length-1;0<=t;t--){var e=t+1,r=l[t].getAttribute(S.stepIdAttribute),s=l[t].getAttribute("data-label"),a=document.createElement("div");null!=r&&""!=l[t].getAttribute(S.stepIdAttribute)||(r=e),a.classList.add(S.progressBarStepClass),a.setAttribute("id",S.stepIdPattern.replace("{ID}",r)),a.setAttribute(S.stepIndexAttribute,e),a.textContent=s,l[t].hasAttribute(S.states.DISABLED)&&a.setAttribute(S.states.DISABLED,S.states.DISABLED),l[t].classList.contains(S.progressBarStepDoneClass)&&a.classList.add(S.progressBarStepDoneClass),i.insertBefore(a,i.firstChild),l[t].setAttribute("id",S.frameIdPattern.replace("{ID}",r)),l[t].setAttribute(S.frameIdAttribute,r),l[t].setAttribute(S.stepIndexAttribute,e)}p=document.querySelectorAll(S.progressBarStepSelector),n(o(),!1)}()},f.init=function(){u||(f.refreshSteps(),window.addEventListener("click",e),d(document).on("load_ajax_content_done",f.refreshSteps),document.body.classList.add(S.bodyClass),u=!0)},f});
//# sourceMappingURL=maps/checkout-steps-110-dev-51.min.js.map

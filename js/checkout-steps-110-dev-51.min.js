!function(e,t){"function"==typeof define&&define.amd?define([],t()):"object"==typeof exports?module.exports=t():e.CheckoutSteps=t()}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";function r(){for(var e=0;e<d.length;e++)if(!d[e+1].hasAttribute(b.states.DISABLED))return e+1}function i(){var e=document.querySelector(".wfc-progress-bar-step.current");return e?parseInt(e.getAttribute(b.stepIndexAttribute)):null}function o(){var e=i();if(!e)return r();for(var t=e-1;t<d.length;t++)if(!d[t+1].hasAttribute(b.states.DISABLED))return e+1;return null}function n(e,t){var r,s,a,o,n=i();n&&n==e||(r=document.querySelector(b.stepSelector.replace("{ID}",e)),s=document.querySelector(b.frameSelector.replace("{ID}",e)),function(){for(var e=d.length-1;0<=e;e--)d[e].classList.remove(b.progressBarStepCurrentClass),p[e].classList.remove(b.progressBarStepCurrentClass),document.body.classList.remove(b.activeStepBodyClassPattern.replace("{ID}",d[e].getAttribute(b.frameIdAttribute))),p[e].hasAttribute(b.states.DISABLED)||p[e].classList.remove(b.progressBarStepDoneClass)}(),a=s,o=t,r.classList.add(b.progressBarStepCurrentClass),a.classList.add(b.progressBarStepCurrentClass),document.body.classList.add(b.activeStepBodyClassPattern.replace("{ID}",a.getAttribute(b.frameIdAttribute))),o&&I(a||c),function(){for(var e=i(),t=p.length-1;0<=t;t--){var r=p[t].getAttribute(b.stepIndexAttribute);!p[t].hasAttribute(b.states.DISABLED)&&r<e&&p[t].classList.add(b.progressBarStepDoneClass)}}())}function t(e){e.preventDefault(),n(function(){var e=i();if(!e)return r();for(var t=e-1;0<=t;t--)if(!d[t-1].hasAttribute(b.states.DISABLED))return e-1;return 1}(),!0)}function s(e){e.target.closest(b.stepIdSelector+":not([disabled])")?function(e){e.preventDefault();var t=e.target.closest(b.stepIdSelector);n(t.getAttribute(b.stepIndexAttribute),!0)}(e):e.target.closest(b.stepNavigationPrevSelector+":not([disabled])")?t(e):e.target.closest(b.stepNavigationNextSelector+":not([disabled])")&&function(e){if(e.preventDefault(),window.CheckoutValidation){var t=i(),r=a.querySelector(b.frameIdSelectorPattern.replace("{ID}",t));if(!window.CheckoutValidation.validateAllFields(r)){var s=r.querySelector(b.woocommerceInvalidFieldClass);return I(s)}}n(o(),!0)}(e)}var a,l,c,d,p,u=jQuery,f=!1,S={},b={bodyClass:"wfc-checkout-steps--active",activeStepBodyClassPattern:"wfc-checkout-step--active-{ID}",wrapperSelector:"#wfc-wrapper",wrapperInsideSelector:".wfc-inside",progressBarSelector:"#wfc-progressbar",progressBarStepSelector:".wfc-progress-bar-step",progressBarStepClass:"wfc-progress-bar-step",progressBarStepDoneClass:"done",progressBarStepCurrentClass:"current",stepIdPattern:"step-{ID}",stepIdSelector:".wfc-progress-bar-step[data-step-index]",stepSelector:'.wfc-progress-bar-step[data-step-index="{ID}"]',stepIndexAttribute:"data-step-index",stepIdAttribute:"data-step-id",stepNavigationPrevSelector:".wfc-prev",stepNavigationNextSelector:".wfc-next",frameIdAttribute:"data-frame-id",frameIdPattern:"step-frame-{ID}",frameIdSelectorPattern:"#step-frame-{ID}",frameSelector:'.wfc-frame[data-step-index="{ID}"]',woocommerceInvalidFieldClass:".woocommerce-invalid",topScrollOffset:100,states:{ACTIVE:"active",DISABLED:"disabled"}},I=function(e){window.scroll({behavior:"smooth",left:0,top:function(e){for(var t=0,r=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-e.scrollLeft,r+=e.offsetTop-e.scrollTop,e=e.offsetParent;return{top:r,left:t}}(e).top-b.topScrollOffset})};return S.refreshSteps=function(){a=document.querySelector(b.wrapperSelector),l=document.querySelector(b.wrapperInsideSelector),c=document.querySelector(b.progressBarSelector),a&&l&&c&&function(){for(;c.firstChild;)c.removeChild(c.firstChild);for(var e=(d=document.querySelectorAll(".wfc-frame")).length-1;0<=e;e--){var t=e+1,r=d[e].getAttribute(b.stepIdAttribute),s=d[e].getAttribute("data-label"),a=document.createElement("div");null!=r&&""!=d[e].getAttribute(b.stepIdAttribute)||(r=t),a.classList.add(b.progressBarStepClass),a.setAttribute("id",b.stepIdPattern.replace("{ID}",r)),a.setAttribute(b.stepIndexAttribute,t),a.textContent=s,d[e].hasAttribute(b.states.DISABLED)&&a.setAttribute(b.states.DISABLED,b.states.DISABLED),d[e].classList.contains(b.progressBarStepDoneClass)&&a.classList.add(b.progressBarStepDoneClass),c.insertBefore(a,c.firstChild),d[e].setAttribute("id",b.frameIdPattern.replace("{ID}",r)),d[e].setAttribute(b.frameIdAttribute,r),d[e].setAttribute(b.stepIndexAttribute,t)}p=document.querySelectorAll(b.progressBarStepSelector),n(o(),!1)}()},S.init=function(){f||(S.refreshSteps(),window.addEventListener("click",s),u(document).on("load_ajax_content_done",S.refreshSteps),document.body.classList.add(b.bodyClass),f=!0)},S});
//# sourceMappingURL=maps/checkout-steps-110-dev-51.min.js.map

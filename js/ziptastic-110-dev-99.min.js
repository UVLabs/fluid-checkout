!function(e,t){"function"==typeof define&&define.amd?define([],t()):"object"==typeof exports?module.exports=t():e.Ziptastic=t()}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";function i(s,e){var t,i,a;r.ziptasticAPIKey&&(i="US",(t=s.closest(r.fieldWrappers).querySelector(r.countryFields))&&""!=t.value&&(i=t.value),(a=new XMLHttpRequest).open("GET","//zip.getziptastic.com/v3/"+i+"/"+e),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("x-key",r.ziptasticAPIKey),a.onload=function(){var e,t,i,n;200===a.status&&(i=JSON.parse(a.responseText),e=s,t=i[0],(n=e.closest(r.fieldWrappers))&&(i=n.querySelector(r.cityFields),e=n.querySelector(r.stateFields),n=n.querySelector(r.countryFields),i&&i.value!=t.city&&(i.value=t.city,i.dispatchEvent(new CustomEvent("change"),{bubbles:!0})),n&&n.value!=t.country&&(r.hasJQuery&&o(n).data("select2")?o(n).val(t.country).trigger("change"):n.value=t.country,n.dispatchEvent(new CustomEvent("change"),{bubbles:!0})),e&&e.value!=t.state_short&&(r.hasJQuery&&o(e).data("select2")?o(e).val(t.state_short).trigger("change"):e.value=t.state_short,e.dispatchEvent(new CustomEvent("change"),{bubbles:!0}))))},a.send())}function t(e){var t;e.target.matches(r.zipFields)&&(t=e,r.ziptasticAPIKey&&t.target&&("keyup"==t.type&&[9,27].includes(t.keyCode)||((e=t.target.value).length<r.minChars||i(t.target,e))))}var o=jQuery,n=!1,s={},r={hasJQuery:null!=o,ziptasticAPIKey:!1,zipFields:"#billing_postcode, #shipping_postcode",fieldWrappers:".woocommerce-billing-fields__field-wrapper, .woocommerce-shipping-fields__field-wrapper, .woocommerce-address-fields__field-wrapper",cityFields:"#billing_city, #shipping_city",stateFields:"#billing_state, #shipping_state",countryFields:"#billing_country, #shipping_country",minChars:5},a=function(){var i={},n=!1,e=0;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(n=arguments[0],e++);for(;e<arguments.length;e++)!function(e){for(var t in e)e.hasOwnProperty(t)&&(n&&"[object Object]"===Object.prototype.toString.call(e[t])?i[t]=a(i[t],e[t]):i[t]=e[t])}(arguments[e]);return i};return s.init=function(){n||window.wfcZiptasticVars&&(r=a(r,wfcZiptasticVars),window.addEventListener("keyup",t,!0),window.addEventListener("change",t,!0),n=!0)},s});
//# sourceMappingURL=maps/ziptastic-110-dev-99.min.js.map

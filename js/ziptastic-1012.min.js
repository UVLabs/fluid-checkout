!function(l){"use strict";function a(o,e){var t,n,c;s&&(n="US",(t=o.closest(p).querySelector(d))&&""!=t.value&&(n=t.value),(c=new XMLHttpRequest).open("GET","//zip.getziptastic.com/v3/"+n+"/"+e),c.setRequestHeader("Content-Type","application/json"),c.setRequestHeader("x-key",s),c.onload=function(){var e,t,n,a,s,i,r;200===c.status&&(e=JSON.parse(c.responseText),t=o,n=e[0],(r=t.closest(p))&&(a=r.querySelector("#billing_city, #shipping_city"),s=r.querySelector("#billing_state, #shipping_state"),i=r.querySelector(d),a&&a.value!=n.city&&(a.value=n.city,a.dispatchEvent(new CustomEvent("change"),{bubbles:!0})),i&&i.value!=n.country&&(u&&l(i).data("select2")?l(i).val(n.country).trigger("change"):i.value=n.country,i.dispatchEvent(new CustomEvent("change"),{bubbles:!0})),s&&s.value!=n.state_short&&(u&&l(s).data("select2")?l(s).val(n.state_short).trigger("change"):s.value=n.state_short,s.dispatchEvent(new CustomEvent("change"),{bubbles:!0}))))},c.send())}function e(e){var t,n;e.target.matches("#billing_postcode, #shipping_postcode")&&(t=e,s&&t.target&&("keyup"==t.type&&[9,27].includes(t.keyCode)||((n=t.target.value).length<5||a(t.target,n))))}var u=null!=l,s=!1,p=".woocommerce-billing-fields__field-wrapper, .woocommerce-shipping-fields__field-wrapper, .woocommerce-address-fields__field-wrapper",d="#billing_country, #shipping_country";window.addEventListener("load",function(){ziptasticVars&&(s=ziptasticVars.api_key)}),window.addEventListener("keyup",e,!0),window.addEventListener("change",e,!0)}(jQuery);
//# sourceMappingURL=maps/ziptastic-1012.min.js.map

/*------------------------------------*\
	#CHECKOUT STEPS
\*------------------------------------*/
.wfc-wrapper .wfc-checkout-steps {
	margin: $checkout-steps-container-margin;

	@media (#{$bp-larger-than-tablet}) { margin: $checkout-steps-container-margin--large-screen; }
}



.wfc-wrapper .wfc-checkout-step {
	margin: 0 0 remsize( -.1rem ); // Prevent double borders
	padding: $checkout-step-padding;
	border: solid remsize( .1rem ) $border-color;
	border-radius: 0;
	overflow: hidden;
	background-color: $white;

	@media (#{$bp-larger-than-tablet}) { padding: $checkout-step-padding--large-screen; }
}
.wfc-wrapper .wfc-checkout-step:first-child {
	@media (#{$bp-larger-than-tablet}) { border-radius: $checkout-substep-border-radius $checkout-substep-border-radius 0 0; }
}
.wfc-wrapper .wfc-checkout-step:last-child {
	@media (#{$bp-larger-than-tablet}) { border-radius: 0 0 $checkout-substep-border-radius $checkout-substep-border-radius; }
}



.wfc-wrapper .wfc-step__substep {
	position: relative;
	padding: $checkout-substep-padding;
	margin: 0 0 remsize( -.1rem ); // Prevent double borders
	border-bottom: solid remsize( .1rem ) $border-color;

	@media (#{$bp-larger-than-tablet}) { padding: $checkout-substep-padding--large-screen; }
}
.wfc-wrapper .wfc-step__substep:after {
    @include clearfix();
}

.wfc-wrapper .wfc-step__substep-title {
	margin: $checkout-substep-title-margin;
	padding: 0;
	color: $checkout-substep-title-color;
	font-weight: $checkout-substep-title-font-weight;
	font-size: $checkout-substep-title-font-size;
	text-transform: $checkout-substep-title-text-transform;
	text-align: $checkout-substep-title-text-align;
	line-height: 1;
	overflow: unset;

	@media (#{$bp-larger-than-desktop}) { font-size: $checkout-substep-title-font-size--large-screen; }
}



.wfc-wrapper .wfc-step__substep-fields:after {
    @include clearfix();
}



.wfc-wrapper .wfc-step__substep-text {
	display: none;
}





/*------------------------------------*\
	#CHECKOUT LAYOUT MULTI-STEP
\*------------------------------------*/
.has-checkout-layout--multi-step .wfc-checkout-step[data-step-complete] {
	margin: 0 0 remsize( -.1rem ); // Prevent double borders
}
// FIRST step
.has-checkout-layout--multi-step .wfc-checkout-step:first-child {
	@media (#{$bp-larger-than-tablet}) {
		border-top-right-radius: $checkout-substep-border-radius;
		border-top-left-radius: $checkout-substep-border-radius;
	}
}
// LAST step
.has-checkout-layout--multi-step .wfc-checkout-step:last-child {
	@media (#{$bp-larger-than-tablet}) {
		border-bottom-right-radius: $checkout-substep-border-radius;
		border-bottom-left-radius: $checkout-substep-border-radius;
	}
}
// PREV Complete
.has-checkout-layout--multi-step .wfc-checkout-step.wfc-checkout-step--prev-step-complete {
	@media (#{$bp-larger-than-tablet}) {
		border-top-right-radius: 0;
		border-top-left-radius: 0;
	}
}
// NEXT Complete
.has-checkout-layout--multi-step .wfc-checkout-step.wfc-checkout-step--next-step-complete {
	@media (#{$bp-larger-than-tablet}) {
		border-bottom-right-radius: 0;
		border-bottom-left-radius: 0;
	}
}
// NEXT Incomplete
.has-checkout-layout--multi-step .wfc-checkout-step.wfc-checkout-step--next-step-incomplete {
	margin-bottom: $global-spacing-small;

	@media (#{$bp-larger-than-tablet}) {
		border-bottom-right-radius: $checkout-substep-border-radius;
		border-bottom-left-radius: $checkout-substep-border-radius;
	}
}



.has-checkout-layout--multi-step .wfc-checkout-step[data-step-current]:not( [data-step-index="0"] ),
.has-checkout-layout--multi-step .wfc-checkout-step:not( [data-step-complete] ) {
	@media (#{$bp-larger-than-tablet}) {
		border-radius: $checkout-substep-border-radius;
	}
}



.has-checkout-layout--multi-step [data-step-complete] .wfc-step__substep-title {
	position: relative;
	padding: $checkout-substep-text-padding;
	color: $checkout-substep-text-color;

	&:before {
		@include icon( 'i-check-small' );
		@include icon-size( $icon-size-small );
		
		position: absolute;
		left: $checkout-substep-title-check-icon-spacing;
		top: 50%;
		transform: translateY( -50% );
		border-radius: 100%;
		background-color: $checkout-substep-text-color;
		color: $white;
	}
}





.has-checkout-layout--multi-step [data-step-current] ~ .wfc-checkout-step {
	display: none;
}

.has-checkout-layout--multi-step:not( .has-collapsible-block ) [data-step-complete] .wfc-step__substep-fields {
	display: none;
}





.has-checkout-layout--multi-step .wfc-step__substep-text {
	display: none;
	margin: $checkout-substep-text-margin;
	padding: $checkout-substep-text-padding;
	color: $checkout-substep-text-color;
	font-weight: $checkout-substep-text-font-weight;
	font-size: $checkout-substep-text-font-size;
	line-height: 1.4;

	@media (#{$bp-larger-than-desktop}) {
		float: right;
		padding-left: 0;
		padding-right: $global-spacing-large;
		margin: $checkout-substep-text-margin--large-screen;
		width: calc( 100% - #{ remsize( 20rem ) } );
		font-size: $checkout-substep-text-font-size--large-screen;
	}
}
.has-checkout-layout--multi-step [data-step-complete] .wfc-step__substep-text {
	display: block;
}

.has-checkout-layout--multi-step .wfc-step__substep-text-content.is-loading {
	min-height: $global-spacing-medium;
}

.has-checkout-layout--multi-step .wfc-step__substep-text-line {
	display: block;
	width: 100%;
}




.has-checkout-layout--multi-step [data-step-complete] .wfc-step__substep-title {
	position: relative;
	display: block;
	padding: $checkout-substep-text-padding;
	color: $checkout-substep-text-color;

	@media (#{$bp-larger-than-desktop}) {
		margin-bottom: 0;
		width: remsize( 20rem );
	}

	&:before {
		@include icon( 'i-check-small' );
		@include icon-size( $icon-size-small );
		
		position: absolute;
		left: $checkout-substep-title-check-icon-spacing;
		top: 50%;
		transform: translateY( -50% );
		border-radius: 100%;
		background-color: $checkout-substep-text-color;
		color: $white;
	}
}





/*------------------------------------*\
	#CHECKOUT STEP ACTIONS
\*------------------------------------*/
.has-checkout-layout--multi-step .wfc-step__actions {
	margin: $global-spacing 0;
	text-align: center;
}
.has-checkout-layout--multi-step [data-step-complete] .wfc-step__actions {
	display: none;
}

.has-checkout-layout--multi-step .wfc-step__actions .wfc-step__next-step {
	margin: 0;
	min-width: remsize( 28rem );
}





/*------------------------------------*\
	#CHECKOUT SUB-STEP EDIT
\*------------------------------------*/
.has-checkout-layout--multi-step .wfc-step__substep-edit,
.has-checkout-layout--multi-step .wfc-step__substep-save {
	display: none;

	margin: $checkout-substep-action-button-margin;
	padding: $checkout-substep-action-button-padding;
	font-size: $checkout-substep-action-button-font-size;
	font-weight: $checkout-substep-action-button-font-weight;
	line-height: 1;
	text-decoration: $checkout-substep-action-button-text-decoration;
	color: $checkout-substep-action-button-color;
	background-color: $checkout-substep-action-button-background-color;
	cursor: pointer;

	@media (#{$bp-larger-than-desktop}) { font-size: $font-size-small--large-screen; }
}

.has-checkout-layout--multi-step [data-step-complete] .wfc-step__substep-edit,
.has-checkout-layout--multi-step [data-step-complete] .is-editing .wfc-step__substep-save {
	position: absolute;
	top: 0;
	right: 0;
	display: inline;
}
.has-checkout-layout--multi-step [data-step-complete] .is-editing .wfc-step__substep-edit,
.has-checkout-layout--multi-step [data-step-complete] .wfc-step__substep-save {
	display: none;
}





/*------------------------------------*\
	#CHECKOUT SUB-STEP FIELD WRAPPERS
\*------------------------------------*/
.wfc-wrapper .wfc-step__substep-fields-inner {
	padding-top: $global-spacing-small;
	border: 0;
}

.wfc-wrapper .woocommerce-shipping-fields,
.wfc-wrapper .woocommerce-billing-fields {
	padding: 0;
	border: 0;
}

.wfc-substep__fields--coupon_codes .wfc-step__substep-fields-inner {
	padding: 0;
}
.wfc-substep__fields--coupon_codes .wfc-expansible-form-section__content--coupon_code .collapsible-content__inner {
	padding: $global-spacing-extra-small 0 0;
}

/*------------------------------------*\
	#ORDER SUMMARY
\*------------------------------------*/
.wfc-wrapper .wfc-checkout-order-review {
	margin: $order-summary-container-margin;
	padding: $global-spacing-extra-small $order-summary-container-padding $order-summary-container-padding;

	@media (#{$bp-larger-than-desktop}) {
		margin: $order-summary-container-margin--large-screen;
		padding: $global-spacing-extra-small $order-summary-container-padding--large-screen $order-summary-container-padding--large-screen;
	}
}




// Fix layout for the `#order_review` element
.woocommerce-page.woocommerce-checkout form.woocommerce-checkout .wfc-wrapper #order_review {
	float: none;
	padding: 0;
	margin: 0;
	border: 0;
	width: 100%;
	background-color: transparent;
}





.wfc-wrapper .wfc-checkout-order-review-title {
	margin: 0 0 $global-spacing-extra-small;
	text-align: left;
}





form.woocommerce-checkout .wfc-wrapper #order_review table.woocommerce-checkout-review-order-table {
	width: 100%;
	margin: 0;
	border: 0;
	border-collapse: collapse;
	border-spacing: 0;
	font-size: $order-summary-font-size;
	
	@media (#{$bp-larger-than-desktop}) {
		margin: 0 #{ - $global-spacing-small };
		width: calc( 100% + #{ $global-spacing-small * 2 } );
		max-width: calc( 100% + #{ $global-spacing-small * 2 } );
		font-size: $order-summary-font-size--large-screen;
	}
}

.woocommerce-checkout form.woocommerce-checkout .wfc-wrapper #order_review table.woocommerce-checkout-review-order-table tbody::after {
	display: none;
}

form.woocommerce-checkout .wfc-wrapper #order_review table.woocommerce-checkout-review-order-table th,
form.woocommerce-checkout .wfc-wrapper #order_review table.woocommerce-checkout-review-order-table td,
form.woocommerce-checkout .wfc-wrapper #order_review table.woocommerce-checkout-review-order-table tr:first-child th,
form.woocommerce-checkout .wfc-wrapper #order_review table.woocommerce-checkout-review-order-table tr:first-child td {
	border: 0;
	display: table-cell;
}

form.woocommerce-checkout .wfc-wrapper #order_review table.woocommerce-checkout-review-order-table tr {
	border: 0;
	border-bottom: $order-summary-cell-border;
}
form.woocommerce-checkout .wfc-wrapper #order_review table.woocommerce-checkout-review-order-table tr:first-child {
	border-top: $order-summary-cell-border;
}

form.woocommerce-checkout .wfc-wrapper #order_review table.woocommerce-checkout-review-order-table th,
form.woocommerce-checkout .wfc-wrapper #order_review table.woocommerce-checkout-review-order-table td {
	padding: $order-summary-cell-padding-vertical $order-summary-cell-padding-horizontal;
	background-color: transparent;
}

form.woocommerce-checkout .wfc-wrapper #order_review table.woocommerce-checkout-review-order-table tfoot tr:first-child {
	border-top: 0;
}

form.woocommerce-checkout .wfc-wrapper #order_review table.woocommerce-checkout-review-order-table tfoot th {
	vertical-align: middle;
}

form.woocommerce-checkout .wfc-wrapper #order_review table.woocommerce-checkout-review-order-table .product-total,
form.woocommerce-checkout .wfc-wrapper #order_review table.woocommerce-checkout-review-order-table tfoot td {
	font-size: $order-summary-font-size;
	text-align: right;
	line-height: 1;
	vertical-align: middle;
}

form.woocommerce-checkout .wfc-wrapper #order_review table.woocommerce-checkout-review-order-table .product-total .tax_label,
form.woocommerce-checkout .wfc-wrapper #order_review table.woocommerce-checkout-review-order-table .product-total .includes_tax,
form.woocommerce-checkout .wfc-wrapper #order_review table.woocommerce-checkout-review-order-table tfoot td .includes_tax,
form.woocommerce-checkout .wfc-wrapper #order_review table.woocommerce-checkout-review-order-table tfoot td .tax_label {
	display: block;
	width: 100%;
	line-height: 1.2;
	color: $grey;
	white-space: normal;
}





form.woocommerce-checkout .wfc-wrapper #order_review table.woocommerce-checkout-review-order-table td.product-name,
form.woocommerce-checkout .wfc-wrapper #order_review table.woocommerce-checkout-review-order-table tr:first-child td.product-name {
	position: relative;
	display: inline-flex;
	flex-direction: column;
	justify-content: center;
	padding-left: #{ $order-summary-image-width + $order-summary-cell-padding-horizontal + $global-spacing-extra-small };
	min-height: #{ $order-summary-image-width + ( $order-summary-cell-padding-vertical * 2 )  };
	background-color: transparent;

	@media (#{$bp-larger-than-desktop}) {
		padding-left: #{ $order-summary-image-width--large-screen + $order-summary-cell-padding-horizontal + $global-spacing-extra-small };
		min-height: #{ $order-summary-image-width--large-screen + ( $order-summary-cell-padding-vertical * 2 )  };
	}
}

form.woocommerce-checkout .wfc-wrapper #order_review table.woocommerce-checkout-review-order-table .attachment-woocommerce_thumbnail {
	position: absolute;
	top: $order-summary-cell-padding-vertical;
	left: $order-summary-cell-padding-horizontal;
	padding: $order-summary-image-padding;
	width: $order-summary-image-width !important; // Needed to override inline styles added by some themes
	height: $order-summary-image-width !important; // Needed to override inline styles added by some themes
	background-color: $order-summary-image-background-color;
	border: $order-summary-image-border;
	border-radius: $order-summary-image-border-radius;

	@media (#{$bp-larger-than-desktop}) {
		width: $order-summary-image-width--large-screen !important; // Needed to override inline styles added by some themes
		height: $order-summary-image-width--large-screen !important;  // Needed to override inline styles added by some themes
	}
}

form.woocommerce-checkout .wfc-wrapper #order_review table.woocommerce-checkout-review-order-table .product-quantity {
	z-index: z( 'above' );
	position: absolute;
	top: $order-summary-cell-padding-vertical;
	left: #{ $order-summary-image-width + $order-summary-cell-padding-horizontal + $global-spacing-tiny };
	transform: translateX( -100% ) translateY( -25% );
	display: block;
	padding: remsize( .1rem ) remsize( .6rem ) remsize( .2rem ) $global-spacing-tiny;
	border-radius: #{ ( $font-size-extra-small + remsize( .4rem ) ) / 2 };
	background-color: $order-summary-quantity-background-color;
	color: $order-summary-quantity-text-color;
	font-size: $order-summary-quantity-font-size;
	font-weight: normal;
	line-height: 1;
	letter-spacing: 0;

	@media (#{$bp-larger-than-desktop}) {
		left: #{ $order-summary-image-width--large-screen + $order-summary-cell-padding-horizontal + $global-spacing-tiny };
	}
}

form.woocommerce-checkout .wfc-wrapper #order_review table.woocommerce-checkout-review-order-table dl.variation {
	margin-bottom: 0;
	padding-left: 0;
	color: $grey;
	font-size: $font-size-extra-small;
}
form.woocommerce-checkout .wfc-wrapper #order_review table.woocommerce-checkout-review-order-table dl.variation dd {
	margin: 0;
	padding: 0;
}

form.woocommerce-checkout .wfc-wrapper #order_review table.woocommerce-checkout-review-order-table td.product-total {
	
	background-color: transparent;
}





.wfc-wrapper .wfc-checkout-order-review__widgets-inside {
	margin-top: $global-spacing-extra-small;
}




/*------------------------------------*\
	#ORDER REVIEW VISIBILITY
\*------------------------------------*/
.wfc-checkout-step[data-step-id="payment"] .wfc-checkout-order-review {
	margin-bottom: $global-spacing-small;

	@media (#{$bp-larger-than-desktop}) {
		display: none;
	}
}





/*------------------------------------*\
	#FLYOUT ORDER SUMMARY
\*------------------------------------*/
.wfc-wrapper .wfc-checkout-order-review[data-flyout] {
	@media (#{$bp-larger-than-desktop}) {
		position: static;
		transform: none;
	}
}
.wfc-wrapper .wfc-checkout-order-review[data-flyout].is-activated {
	@media (#{$bp-larger-than-desktop}) {
		display: block;
	}
}

.wfc-wrapper .wfc-checkout-order-review[data-flyout].is-activated.is-open {
	z-index: z( 'float-element' );
	margin: 0;
	padding: $checkout-header-height 0 0;
}
// With admin bar
.admin-bar .wfc-wrapper .wfc-checkout-order-review[data-flyout].is-activated.is-open {
	padding: calc( #{ $checkout-header-height } + 46px ) 0 0;
}



.has-flyout.has-flyout--open-wfc-checkout-order-review .flyout-overlay {
	z-index: z( 'float-element' ) - 1;
}



.wfc-wrapper .wfc-checkout-order-review .wfc-checkout-order-review__inner {
	@media (#{$bp-larger-than-desktop}) {
		margin: 0 0 $global-spacing-small;
		padding: remsize( 1.2rem ) $global-spacing-small $global-spacing-small;
		max-width: none;
		border: solid remsize( .1rem ) $border-color;
		border-radius: $global-radius-medium;
		background-color: $white;
		overflow: visible;
	}
}

.wfc-wrapper .wfc-checkout-order-review[data-flyout].is-open .wfc-checkout-order-review__inner {
	// max-width
	max-width: $container-width-mobile;
	@media (#{$bp-larger-than-tablet}) { max-width: $container-width-tablet; }
	
	// padding
	padding: $global-spacing-small $container-spacing-mobile $global-spacing-large;
	@media (#{$bp-larger-than-tablet}) { padding: $global-spacing-small $container-spacing-tablet $global-spacing-large; }
}




/*------------------------------------*\
	#FLYOUT ORDER SUMMARY ACTIONS
\*------------------------------------*/
.wfc-checkout-order-review__actions {
	display: none;
}
.has-flyout.has-flyout--open-wfc-checkout-order-review .wfc-checkout-order-review__actions {
	z-index: z( 'sticky-element' );
	position: fixed;
	bottom: 0;
	left: 0;
	display: flex;
	align-items: center;
	justify-content: space-between;
	width: 100%;
	background-color: $white;
	box-shadow: $box-shadow-dark;

	// max-width
	max-width: $container-width-mobile;
	@media (#{$bp-larger-than-tablet}) { max-width: $container-width-tablet; }

	// padding
	padding: $global-spacing-extra-small $container-spacing-mobile;
	@media (#{$bp-larger-than-tablet}) { padding: $global-spacing-small $container-spacing-tablet; }
	
	// Hide on desktop view
	@media (#{$bp-larger-than-desktop}) { display: none; }
}



.wfc-checkout-order-review__actions .wfc-checkout-order-review__edit-cart {
	padding-left: $order-summary-cell-padding-horizontal;
}



.wfc-checkout-order-review__sidebar-actions {
	display: none;

	@media (#{$bp-larger-than-desktop}) { display: block; }
}
